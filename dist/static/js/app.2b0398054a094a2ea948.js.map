{"version":3,"sources":["webpack:///./src/js/luckyDraw.js","webpack:///./src/js/tagcanvas.js","webpack:///src/App.vue","webpack:///./src/App.vue?cf5e","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/images/header-logo.svg"],"names":["window","store","store_legacy_default","a","LuckyDraw","names","_this","this","classCallCheck_default","allNames","drawnNames","length","get","ALL_NAMES_KEY","set","forEach","name","KEY_PREFIX","push","index","Math","random","splice","slice","each","key","indexOf","remove","reset","i","j","Oproto","Tproto","TCproto","Mproto","Vproto","TSproto","ocanvas","abs","sin","cos","max","min","ceil","sqrt","pow","hexlookup3","hexlookup2","hexlookup1","0","1","2","3","4","5","6","7","8","9","A","b","B","c","C","d","D","e","E","f","F","doc","document","handlers","toString","toUpperCase","Defined","IsObject","o","typeof_default","Clamp","v","mn","mx","isNaN","Nop","TimeNow","Date","valueOf","Shuffle","t","p","Vector","x","y","z","Matrix","PointsOnSphere","n","xr","yr","zr","r","phi","pts","inc","PI","off","Cylinder","k","l","Ring","PointsOnCylinderV","PointsOnCylinderH","PointsOnRingV","offset","PointsOnRingH","NewCanvas","w","h","G_vmlCanvasManager","createElement","width","height","SetGradient","g","gd","createLinearGradient","addColorStop","fillStyle","fillRect","FindGradientColour","tc","cv","gl","weightGradient","gCanvas","getContext","getImageData","data","TextSet","ctxt","font","colour","strings","pad","shadowColour","shadowBlur","shadowOffsets","maxWeight","weights","xc","xo","yo","textBaseline","shadowColor","shadowOffsetX","shadowOffsetY","fillText","parseInt","RRect","s","beginPath","moveTo","arcTo","closePath","TextToCanvas","bgColour","bgOutline","bgOutlineThickness","padding","radius","x1","x2","y1","y2","cw","ch","strokeStyle","lineWidth","ExpandImage","drawImage","ScaleImage","AddBackgroundToImage","scale","othickness","ocolour","ofill","cc","globalCompositeOperation","image","FindTextBoundingBox","ht","idata","w1","h1","ex","FixFont","replace","AddHandler","addEventListener","attachEvent","AddImage","mscale","ic","bc","oc","iw","ih","imageScale","complete","txtOpt","zoomMax","txtScale","naturalWidth","naturalHeight","shadow","sc","sb","so","sw","sh","AddShadowToImage","shadowOffset","GetProperty","textColour","outlineMethod","outlineColour","bgRadius","oimage","outlineIncrease","dv","defaultView","pc","charAt","getComputedStyle","getPropertyValue","currentStyle","FindWeight","wFrom","tHeight","getAttribute","EventToCanvasId","target","id","srcElement","parentNode","EventXY","xy","xmul","ymul","offsetX","offsetY","AbsPos","changedTouches","pageX","pageY","MouseOut","fromElement","TagCanvas","my","UnFreeze","EndDrag","MouseMove","tg","tttimer","clearTimeout","canvas","Drag","drawn","MouseDown","cb","button","BeginDrag","MouseUp","touched","Clicked","TouchDown","TouchUp","TouchMove","Draw","MouseWheel","cancelBubble","returnValue","preventDefault","Wheel","wheelDelta","detail","DrawCanvas","DrawCanvasRAF","NextFrame","interval","getElementById","getBoundingClientRect","dd","documentElement","body","xs","pageXOffset","scrollLeft","ys","pageYOffset","scrollTop","clientLeft","clientTop","left","top","TextSplitter","br","line","text","original","innerText","textContent","Outline","ts","tag","pulsateTo","DrawPulsate","DrawSimple","outlineRadius","SetMethod","Tag","col","bcol","bradius","boutline","bothickness","src","text_original","line_widths","title","position","textFont","alpha","weighted","weight","outline","textHeight","Measure","SetShadowColour","shadowAlpha","SetShadowColourAlpha","SetShadowColourFixed","SetDraw","cid","lctr","opt","raf","cp","initElement","ie","parseFloat","navigator","appVersion","split","insertBefore","removeChild","options","z1","depth","z2","zoom","max_weight","min_weight","minBrightness","maxBrightness","lx","lock","ly","frozen","dx","dy","fixedAnim","fixedAlpha","source","transform","Identity","startTime","time","Animate","dragControl","AnimateDrag","AnimatePosition","animTiming","Smooth","globalAlpha","strokeRect","ShadowAlphaBroken","Load","hideTags","loaded","HideTags","yaw","initial","maxSpeed","pitch","tooltip","Tooltip","TooltipNative","TooltipDiv","ttdiv","className","tooltipClass","style","zIndex","display","appendChild","TooltipNone","noMouse","wheelZoom","started","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","NextFrameRAF","NextFrameTimeout","tccall","prototype","dot","cross","angle","ac","acos","unit","Rotation","u","sina","cosa","mcos","mul","m","mmatrix","xform","Lines","cn","cl","childNodes","nodeName","join","nodeType","nodeValue","SplitWidth","words","measureText","om","methods","block","classic","size","none","funcs","drawFunc","Update","outlineOffset","o2","DrawOutline","DrawColour","DrawColourText","normal","DrawColourImage","ccanvas","fx","fy","fw","fh","clearRect","setTransform","save","rect","clip","restore","DrawBlock","outlineThickness","diff","pulsateTime","Active","PreDraw","PostDraw","LastDraw","EqualTo","getElementsByTagName","href","DrawImageIE","DrawImage","DrawText","noSelect","CheckActive","MeasureText","wl","th","soff","extents","SetFont","boc","SetWeight","modes","weightMode","Weight","wmin","wmax","wnum","nweight","weightSizeMin","weightSizeMax","weightSize","p1","p2","ae","toPrecision","substr","lastIndexOf","substring","SetAlpha","xoff","yoff","xl","im","Calc","pp","mnb","mxb","max_radius","xformed","sx","sy","Project","stretchX","stretchY","UpdateActive","evt","createEvent","initMouseEvent","dispatchEvent","fireEvent","location","self","frames","err","open","SourceElements","querySelectorAll","el","GetTags","etl","tl","CreateTag","Image","splitWidth","UpdateTag","valid","ll","wfrom","weightFrom","shape","shapeArgs","rx","ry","rz","vl","taglist","tagmap","pfuncs","sphere","vcylinder","hcylinder","vring","hring","shuffleTags","radiusX","radiusY","radiusZ","shift","concat","apply","listLength","found","ol","nl","newlist","added","removed","sort","pop","SetShadow","paused","active","fixed","max_sc","tdelta","aindex","frontsel","frontSelect","centreDrawn","centreFunc","AnimateFixed","SortList","alert","freezeActive","Freeze","fixedCallback","fixedCallbackTag","cursor","activeCursor","innerHTML","setTimeout","tooltipDelay","Transform","sp","cy","ym","pm","fa","t1","fadeIn","t0","axis","reverse","freezeDecel","Decel","rs","preFreeze","minSpeed","ay","ap","z0","decel","Zoom","clickToFront","TagToFront","zoomStep","zoomMin","down","t2","dragThreshold","dragging","res","Pause","Resume","SetSpeed","FindTag","srch","tgt","RotateTag","lt","lg","callback","v1","v2","MakeVector","Start","Linear","Reload","speed","lat","lng","tt","Delete","iv","0.33","0.66","App_luckyDraw","luckyDraw","tags","jquery_default","appendTo","hide","App","status","number","list","showSettings","showList","computed","goText","mounted","getAll","setOptions","on","event","which","processDraw","resize","bind","restart","go","saveSettings","toConsumableArray_default","Array","keys","update","container","parent","attr","buildTags","getDrawn","empty","getRemained","css","font-size","_this2","next","find","eq","color","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","__webpack_require__","alt","_v","click","$event","_m","_s","model","value","$$v","expression","label","label-for","type","trim","slot","variant","_l","staticRenderFns","src_App","normalizeComponent","vue_esm","use","es","config","productionTip","vm","components","template","module","exports"],"mappings":"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","file":"static/js/app.2b0398054a094a2ea948.js","sourcesContent":["import store from 'store'\n\nwindow.store = store\n\nexport default class LuckyDraw {\n  static get KEY_PREFIX() {\n    return 'luckyDraw_'\n  }\n  static get ALL_NAMES_KEY() {\n    return LuckyDraw.KEY_PREFIX + 'all'\n  }\n  constructor(names) {\n    this.allNames = names || []\n    this.names = []\n    this.drawnNames = []\n    if (this.allNames.length === 0) {\n      this.allNames = store.get(LuckyDraw.ALL_NAMES_KEY) || []\n    } else {\n      store.set(LuckyDraw.ALL_NAMES_KEY, LuckyDraw.allNames)\n    }\n    this.allNames.forEach(name => {\n      if (store.get(LuckyDraw.KEY_PREFIX + name)) {\n        this.drawnNames.push(name)\n      } else {\n        this.names.push(name)\n      }\n    })\n  }\n  next() {\n    const index = Math.random() * this.names.length | 0\n    const name = this.names[index]\n    if (!name) {\n      return false\n    }\n    this.names.splice(index, 1)\n    this.drawnNames.push(name)\n    store.set(LuckyDraw.KEY_PREFIX + name, name)\n    return {\n      index,\n      name\n    }\n  }\n  reset() {\n    this.names = this.allNames.slice()\n    this.drawnNames = []\n    store.each((name, key) => {\n      if (key.indexOf(LuckyDraw.KEY_PREFIX) > -1) {\n        store.remove(key)\n      }\n    })\n    store.set(LuckyDraw.ALL_NAMES_KEY, this.allNames)\n  }\n  update(names) {\n    this.allNames = names\n    this.reset()\n  }\n  getRemained() {\n    return this.names\n  }\n  getDrawn() {\n    return this.drawnNames\n  }\n  getAll() {\n    return this.allNames\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/luckyDraw.js","/**\n * Copyright (C) 2010-2014 Graham Breach\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n * \n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * TagCanvas 2.5.1\n * For more information, please contact <graham@goat1000.com>\n */\n(function(){\n\"use strict\";\nvar i, j, abs = Math.abs, sin = Math.sin, cos = Math.cos, max = Math.max,\n  min = Math.min, ceil = Math.ceil, sqrt = Math.sqrt, pow = Math.pow,\n  hexlookup3 = {}, hexlookup2 = {}, hexlookup1 = {\n  0:\"0,\",   1:\"17,\",  2:\"34,\",  3:\"51,\",  4:\"68,\",  5:\"85,\",\n  6:\"102,\", 7:\"119,\", 8:\"136,\", 9:\"153,\", a:\"170,\", A:\"170,\",\n  b:\"187,\", B:\"187,\", c:\"204,\", C:\"204,\", d:\"221,\", D:\"221,\",\n  e:\"238,\", E:\"238,\", f:\"255,\", F:\"255,\"  \n  }, Oproto, Tproto, TCproto, Mproto, Vproto, TSproto, doc = document, ocanvas, \n  handlers = {};\nfor(i = 0; i < 256; ++i) {\n  j = i.toString(16);\n  if(i < 16)\n    j = '0' + j;\n  hexlookup2[j] = hexlookup2[j.toUpperCase()] = i.toString() + ',';\n}\nfunction Defined(d) {\n  return typeof d != 'undefined';\n}\nfunction IsObject(o) {\n  return typeof o == 'object' && o != null;\n}\nfunction Clamp(v, mn, mx) {\n  return isNaN(v) ? mx : min(mx, max(mn, v));\n}\nfunction Nop() {\n  return false;\n}\nfunction TimeNow() {\n  return new Date().valueOf();\n}\nfunction SortList(l, f) {\n  var nl = [], tl = l.length, i;\n  for(i = 0; i < tl; ++i)\n    nl.push(l[i]);\n  nl.sort(f);\n  return nl;\n}\nfunction Shuffle(a) {\n  var i = a.length-1, t, p;\n  while(i) {\n    p = ~~(Math.random()*i);\n    t = a[i];\n    a[i] = a[p];\n    a[p] = t;\n    --i;\n  }\n}\nfunction Vector(x, y, z) {\n  this.x = x;\n  this.y = y;\n  this.z = z;\n}\nVproto = Vector.prototype;\nVproto.length = function() {\n  return sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n};\nVproto.dot = function(v) {\n  return this.x * v.x + this.y * v.y + this.z * v.z;\n};\nVproto.cross = function(v) {\n  var x = this.y * v.z - this.z * v.y,\n    y = this.z * v.x - this.x * v.z,\n    z = this.x * v.y - this.y * v.x;\n  return new Vector(x, y, z);\n};\nVproto.angle = function(v) {\n  var dot = this.dot(v), ac;\n  if(dot == 0)\n    return Math.PI / 2.0;\n  ac = dot / (this.length() * v.length());\n  if(ac >= 1)\n    return 0;\n  if(ac <= -1)\n    return Math.PI;\n  return Math.acos(ac);\n};\nVproto.unit = function() {\n  var l = this.length();\n  return new Vector(this.x / l, this.y / l, this.z / l);\n};\nfunction MakeVector(lg, lt) {\n  lt = lt * Math.PI / 180;\n  lg = lg * Math.PI / 180;\n  var x = sin(lg) * cos(lt), y = -sin(lt), z = -cos(lg) * cos(lt);\n  return new Vector(x, y, z);\n}\nfunction Matrix(a) {\n  this[1] = {1: a[0],  2: a[1],  3: a[2]};\n  this[2] = {1: a[3],  2: a[4],  3: a[5]};\n  this[3] = {1: a[6],  2: a[7],  3: a[8]};\n}\nMproto = Matrix.prototype;\nMatrix.Identity = function() {\n  return new Matrix([1,0,0, 0,1,0, 0,0,1]);\n};\nMatrix.Rotation = function(angle, u) {\n  var sina = sin(angle), cosa = cos(angle), mcos = 1 - cosa;\n  return new Matrix([\n    cosa + pow(u.x, 2) * mcos, u.x * u.y * mcos - u.z * sina, u.x * u.z * mcos + u.y * sina,\n    u.y * u.x * mcos + u.z * sina, cosa + pow(u.y, 2) * mcos, u.y * u.z * mcos - u.x * sina,\n    u.z * u.x * mcos - u.y * sina, u.z * u.y * mcos + u.x * sina, cosa + pow(u.z, 2) * mcos\n  ]);\n}\nMproto.mul = function(m) {\n  var a = [], i, j, mmatrix = (m.xform ? 1 : 0);\n  for(i = 1; i <= 3; ++i)\n    for(j = 1; j <= 3; ++j) {\n      if(mmatrix)\n        a.push(this[i][1] * m[1][j] +\n          this[i][2] * m[2][j] +\n          this[i][3] * m[3][j]);\n      else\n        a.push(this[i][j] * m);\n    }\n  return new Matrix(a);\n};\nMproto.xform = function(p) {\n  var a = {}, x = p.x, y = p.y, z = p.z;\n  a.x = x * this[1][1] + y * this[2][1] + z * this[3][1];\n  a.y = x * this[1][2] + y * this[2][2] + z * this[3][2];\n  a.z = x * this[1][3] + y * this[2][3] + z * this[3][3];\n  return a;\n};\nfunction PointsOnSphere(n,xr,yr,zr) {\n  var i, y, r, phi, pts = [], inc = Math.PI * (3-sqrt(5)), off = 2/n;\n  for(i = 0; i < n; ++i) {\n    y = i * off - 1 + (off / 2);\n    r = sqrt(1 - y*y);\n    phi = i * inc;\n    pts.push([cos(phi) * r * xr, y * yr, sin(phi) * r * zr]);\n  }\n  return pts;\n}\nfunction Cylinder(n,o,xr,yr,zr) {\n  var phi, pts = [], inc = Math.PI * (3-sqrt(5)), off = 2/n, i, j, k, l;\n  for(i = 0; i < n; ++i) {\n    j = i * off - 1 + (off / 2);\n    phi = i * inc;\n    k = cos(phi);\n    l = sin(phi);\n    pts.push(o ? [j * xr, k * yr, l * zr] : [k * xr, j * yr, l * zr]);\n  }\n  return pts;\n}\nfunction Ring(o, n, xr, yr, zr, j) {\n  var phi, pts = [], inc = Math.PI * 2 / n, i, k, l;\n  for(i = 0; i < n; ++i) {\n    phi = i * inc;\n    k = cos(phi);\n    l = sin(phi);\n    pts.push(o ? [j * xr, k * yr, l * zr] : [k * xr, j * yr, l * zr]);\n  }\n  return pts;\n}\nfunction PointsOnCylinderV(n,xr,yr,zr) { return Cylinder(n, 0, xr, yr, zr) }\nfunction PointsOnCylinderH(n,xr,yr,zr) { return Cylinder(n, 1, xr, yr, zr) }\nfunction PointsOnRingV(n, xr, yr, zr, offset) {\n  offset = isNaN(offset) ? 0 : offset * 1;\n  return Ring(0, n, xr, yr, zr, offset);\n}\nfunction PointsOnRingH(n, xr, yr, zr, offset) {\n  offset = isNaN(offset) ? 0 : offset * 1;\n  return Ring(1, n, xr, yr, zr, offset);\n}\nfunction SetAlpha(c,a) {\n  var d = c, p1, p2, ae = (a*1).toPrecision(3) + ')';\n  if(c[0] === '#') {\n    if(!hexlookup3[c])\n      if(c.length === 4)\n        hexlookup3[c] = 'rgba(' + hexlookup1[c[1]] + hexlookup1[c[2]] + hexlookup1[c[3]];\n      else\n        hexlookup3[c] = 'rgba(' + hexlookup2[c.substr(1,2)] + hexlookup2[c.substr(3,2)] + hexlookup2[c.substr(5,2)];\n    d = hexlookup3[c] + ae;\n  } else if(c.substr(0,4) === 'rgb(' || c.substr(0,4) === 'hsl(') {\n    d = (c.replace('(','a(').replace(')', ',' + ae));\n  } else if(c.substr(0,5) === 'rgba(' || c.substr(0,5) === 'hsla(') {\n    p1 = c.lastIndexOf(',') + 1, p2 = c.indexOf(')');\n    a *= parseFloat(c.substring(p1,p2));\n    d = c.substr(0,p1) + a.toPrecision(3) + ')';\n  }\n  return d;\n}\nfunction NewCanvas(w,h) {\n  // if using excanvas, give up now\n  if(window.G_vmlCanvasManager)\n    return null;\n  var c = doc.createElement('canvas');\n  c.width = w;\n  c.height = h;\n  return c;\n}\n// I think all browsers pass this test now...\nfunction ShadowAlphaBroken() {\n  var cv = NewCanvas(3,3), c, i;\n  if(!cv)\n    return false;\n  c = cv.getContext('2d');\n  c.strokeStyle = '#000';\n  c.shadowColor = '#fff';\n  c.shadowBlur = 3;\n  c.globalAlpha = 0;\n  c.strokeRect(2,2,2,2);\n  c.globalAlpha = 1;\n  i = c.getImageData(2,2,1,1);\n  cv = null;\n  return (i.data[0] > 0);\n}\nfunction SetGradient(c, l, o, g) {\n  var gd = c.createLinearGradient(0, 0, l, 0), i;\n  for(i in g)\n    gd.addColorStop(1 - i, g[i]);\n  c.fillStyle = gd;\n  c.fillRect(0, o, l, 1);\n}\nfunction FindGradientColour(tc, p, r) {\n  var l = 1024, h = 1, gl = tc.weightGradient, cv, c, i, d;\n  if(tc.gCanvas) {\n    c = tc.gCanvas.getContext('2d');\n    h = tc.gCanvas.height;\n  } else {\n    if(IsObject(gl[0]))\n      h = gl.length;\n    else\n      gl = [gl];\n    tc.gCanvas = cv = NewCanvas(l, h);\n    if(!cv)\n      return null;\n    c = cv.getContext('2d');\n    for(i = 0; i < h; ++i)\n      SetGradient(c, l, i, gl[i]);\n  }\n  r = max(min(r || 0, h - 1), 0);\n  d = c.getImageData(~~((l - 1) * p), r, 1, 1).data;\n  return 'rgba(' + d[0] + ',' + d[1] + ',' + d[2] + ',' + (d[3]/255) + ')';\n}\nfunction TextSet(ctxt, font, colour, strings, pad, shadowColour, shadowBlur,\n  shadowOffsets, maxWeight, weights) {\n  var xo = pad + (shadowBlur || 0) + \n    (shadowOffsets.length && shadowOffsets[0] < 0 ? abs(shadowOffsets[0]) : 0),\n    yo = pad + (shadowBlur || 0) + \n    (shadowOffsets.length && shadowOffsets[1] < 0 ? abs(shadowOffsets[1]) : 0), i, xc;\n  ctxt.font = font;\n  ctxt.textBaseline = 'top';\n  ctxt.fillStyle = colour;\n  shadowColour && (ctxt.shadowColor = shadowColour);\n  shadowBlur && (ctxt.shadowBlur = shadowBlur);\n  shadowOffsets.length && (ctxt.shadowOffsetX = shadowOffsets[0],\n    ctxt.shadowOffsetY = shadowOffsets[1]);\n  for(i = 0; i < strings.length; ++i) {\n    xc = weights ? (maxWeight - weights[i]) / 2 : 0;\n    ctxt.fillText(strings[i], xo + xc, yo);\n    yo += parseInt(font);\n  }\n}\nfunction RRect(c, x, y, w, h, r, s) {\n  if(r) {\n    c.beginPath();\n    c.moveTo(x, y + h - r);\n    c.arcTo(x, y, x + r, y, r);\n    c.arcTo(x + w, y, x + w, y + r, r);\n    c.arcTo(x + w, y + h, x + w - r, y + h, r);\n    c.arcTo(x, y + h, x, y + h - r, r);\n    c.closePath();\n    c[s ? 'stroke' : 'fill']();\n  } else {\n    c[s ? 'strokeRect' : 'fillRect'](x, y, w, h);\n  }\n}\nfunction TextToCanvas(strings, font, w, h, colour, bgColour, bgOutline,\n  bgOutlineThickness, shadowColour, shadowBlur, shadowOffsets, padding, radius,\n  maxWeight, weights) {\n  var cw = w + abs(shadowOffsets[0]) + 2 * (shadowBlur + padding) + \n    bgOutlineThickness, ch = h + abs(shadowOffsets[1]) + \n    2 * (shadowBlur + padding) + bgOutlineThickness, cv, c, x1, x2, y1, y2;\n  cv = NewCanvas(cw,ch);\n  if(!cv)\n    return null;\n  x1 = y1 = bgOutlineThickness / 2;\n  x2 = cw - bgOutlineThickness;\n  y2 = ch - bgOutlineThickness;\n  padding += x1; // add space for outline\n  c = cv.getContext('2d');\n  if(bgColour) {\n    c.fillStyle = bgColour;\n    RRect(c, x1, y1, x2, y2, radius);\n  }\n  if(bgOutlineThickness) {\n    c.strokeStyle = bgOutline;\n    c.lineWidth = bgOutlineThickness;\n    RRect(c, x1, y1, x2, y2, radius, true);\n  }\n  TextSet(c, font, colour, strings, padding, shadowColour, shadowBlur, \n    shadowOffsets, maxWeight, weights);\n  return cv;\n}\nfunction ExpandImage(i, w, h) {\n  var cv = NewCanvas(w, h), c;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.drawImage(i, (w - i.width) / 2, (h - i.height) / 2);\n  return cv;\n}\nfunction ScaleImage(i, w, h) {\n  var cv = NewCanvas(w, h), c;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.drawImage(i, 0, 0, w, h);\n  return cv;\n}\nfunction AddBackgroundToImage(i, w, h, scale, colour, othickness, ocolour,\n  padding, radius, ofill) {\n  var cw = w + ((2 * padding) + othickness) * scale,\n    ch = h + ((2 * padding) + othickness) * scale,\n    cv = NewCanvas(cw, ch), c, x1, y1, x2, y2, ocanvas, cc;\n  if(!cv)\n    return null;\n  othickness *= scale;\n  radius *= scale;\n  x1 = y1 = othickness / 2;\n  x2 = cw - othickness;\n  y2 = ch - othickness;\n  padding = (padding * scale) + x1; // add space for outline\n  c = cv.getContext('2d');\n  if(colour) {\n    c.fillStyle = colour;\n    RRect(c, x1, y1, x2, y2, radius);\n  }\n  if(othickness) {\n    c.strokeStyle = ocolour;\n    c.lineWidth = othickness;\n    RRect(c, x1, y1, x2, y2, radius, true);\n  }\n  \n  if(ofill) {\n    // use compositing to colour in the image and border\n    ocanvas = NewCanvas(cw, ch);\n    cc = ocanvas.getContext('2d');\n    cc.drawImage(i, padding, padding, w, h);\n    cc.globalCompositeOperation = 'source-in';\n    cc.fillStyle = ocolour;\n    cc.fillRect(0, 0, cw, ch);\n    cc.globalCompositeOperation = 'destination-over';\n    cc.drawImage(cv, 0, 0);\n    cc.globalCompositeOperation = 'source-over';\n    c.drawImage(ocanvas, 0, 0);\n  } else {\n    c.drawImage(i, padding, padding, i.width, i.height);\n  }\n  return {image: cv, width: cw / scale, height: ch / scale};\n}\n/**\n * Creates a new canvas containing the image and its shadow\n * Returns an object containing the image and its dimensions at z=0\n */\nfunction AddShadowToImage(i, w, h, scale, sc, sb, so) {\n  var sw = abs(so[0]), sh = abs(so[1]), \n    cw = w + (sw > sb ? sw + sb : sb * 2) * scale,\n    ch = h + (sh > sb ? sh + sb : sb * 2) * scale,\n    xo = scale * ((sb || 0) + (so[0] < 0 ? sw : 0)),\n    yo = scale * ((sb || 0) + (so[1] < 0 ? sh : 0)), cv, c;\n  cv = NewCanvas(cw, ch);\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  sc && (c.shadowColor = sc);\n  sb && (c.shadowBlur = sb * scale);\n  so && (c.shadowOffsetX = so[0] * scale, c.shadowOffsetY = so[1] * scale);\n  c.drawImage(i, xo, yo, w, h);\n  return {image: cv, width: cw / scale, height: ch / scale};\n}\nfunction FindTextBoundingBox(s,f,ht) {\n  var w = parseInt(s.toString().length * ht), h = parseInt(ht * 2 * s.length),\n    cv = NewCanvas(w,h), c, idata, w1, h1, x, y, i, ex;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.fillStyle = '#000';\n  c.fillRect(0,0,w,h);\n  TextSet(c,ht + 'px ' + f,'#fff',s,0,0,0,[])\n\n  idata = c.getImageData(0,0,w,h);\n  w1 = idata.width; h1 = idata.height;\n  ex = {\n    min: { x: w1, y: h1 },\n    max: { x: -1, y: -1 }\n  };\n  for(y = 0; y < h1; ++y) {\n    for(x = 0; x < w1; ++x) {\n      i = (y * w1 + x) * 4;\n      if(idata.data[i+1] > 0) {\n        if(x < ex.min.x) ex.min.x = x;\n        if(x > ex.max.x) ex.max.x = x;\n        if(y < ex.min.y) ex.min.y = y;\n        if(y > ex.max.y) ex.max.y = y;\n      }\n    }\n  }\n  // device pixels might not be css pixels\n  if(w1 != w) {\n    ex.min.x *= (w / w1);\n    ex.max.x *= (w / w1);\n  }\n  if(h1 != h) {\n    ex.min.y *= (w / h1);\n    ex.max.y *= (w / h1);\n  }\n\n  cv = null;\n  return ex;\n}\nfunction FixFont(f) {\n  return \"'\" + f.replace(/(\\'|\\\")/g,'').replace(/\\s*,\\s*/g, \"', '\") + \"'\";\n}\nfunction AddHandler(h,f,e) {\n  e = e || doc;\n  if(e.addEventListener)\n    e.addEventListener(h,f,false);\n  else\n    e.attachEvent('on' + h, f);\n}\nfunction AddImage(i, o, t, tc) {\n  var s = tc.imageScale, mscale, ic, bc, oc, iw, ih;\n  // image not loaded, wait for image onload\n  if(!o.complete)\n    return AddHandler('load',function() { AddImage(i,o,t,tc); }, o);\n  if(!i.complete)\n    return AddHandler('load',function() { AddImage(i,o,t,tc); }, i);\n\n  // Yes, this does look like nonsense, but it makes sure that both the\n  // width and height are actually set and not just calculated. This is\n  // required to keep proportional sizes when the images are hidden, so\n  // the images can be used again for another cloud.\n  o.width = o.width;\n  o.height = o.height;\n\n  if(s) {\n    i.width = o.width * s;\n    i.height = o.height * s;\n  }\n  // the standard width of the image, with imageScale applied\n  t.w = i.width;\n  t.h = i.height;\n  if(tc.txtOpt) {\n    ic = i;\n    mscale = tc.zoomMax * tc.txtScale;\n    iw = t.w * mscale;\n    ih = t.h * mscale;\n    if(iw < o.naturalWidth || ih < o.naturalHeight) {\n      ic = ScaleImage(i, iw, ih);\n      if(ic)\n        t.image = ic;\n    } else {\n      iw = t.w;\n      ih = t.h;\n      mscale = 1;\n    }\n    if(tc.shadow) {\n      ic = AddShadowToImage(t.image, iw, ih, mscale, tc.shadow, tc.shadowBlur,\n        tc.shadowOffset);\n      if(ic) {\n        t.image = ic.image;\n        t.w = ic.width;\n        t.h = ic.height;\n      }\n    }\n    if(tc.bgColour || tc.bgOutlineThickness) {\n      bc = tc.bgColour == 'tag' ? GetProperty(t.a, 'background-color') :\n        tc.bgColour;\n      oc = tc.bgOutline == 'tag' ? GetProperty(t.a, 'color') : \n        (tc.bgOutline || tc.textColour);\n      iw = t.image.width;\n      ih = t.image.height;\n      if(tc.outlineMethod == 'colour') {\n        // create the outline version first, using the current image state\n        ic = AddBackgroundToImage(t.image, iw, ih, mscale, bc,\n          tc.bgOutlineThickness, tc.outlineColour, tc.padding, tc.bgRadius, 1);\n        if(ic)\n          t.oimage = ic.image;\n      }\n      ic = AddBackgroundToImage(t.image, iw, ih, mscale, bc, \n        tc.bgOutlineThickness, oc, tc.padding, tc.bgRadius);\n      if(ic) {\n        t.image = ic.image;\n        t.w = ic.width;\n        t.h = ic.height;\n      }\n    }\n    if(tc.outlineMethod == 'size') {\n      if(tc.outlineIncrease > 0) {\n        t.w += 2 * tc.outlineIncrease;\n        t.h += 2 * tc.outlineIncrease;\n        iw = mscale * t.w;\n        ih = mscale * t.h;\n        ic = ScaleImage(t.image, iw, ih);\n        t.oimage = ic;\n        t.image = ExpandImage(t.image, t.oimage.width, t.oimage.height);\n      } else {\n        iw = mscale * (t.w + (2 * tc.outlineIncrease));\n        ih = mscale * (t.h + (2 * tc.outlineIncrease));\n        ic = ScaleImage(t.image, iw, ih);\n        t.oimage = ExpandImage(ic, t.image.width, t.image.height);\n      }\n    }\n  }\n}\nfunction GetProperty(e,p) {\n  var dv = doc.defaultView, pc = p.replace(/\\-([a-z])/g,function(a){return a.charAt(1).toUpperCase()});\n  return (dv && dv.getComputedStyle && dv.getComputedStyle(e,null).getPropertyValue(p)) ||\n    (e.currentStyle && e.currentStyle[pc]);\n}\nfunction FindWeight(a, wFrom, tHeight) {\n  var w = 1, p;\n  if(wFrom) {\n    w = 1 * (a.getAttribute(wFrom) || tHeight);\n  } else if(p = GetProperty(a,'font-size')) {\n    w = (p.indexOf('px') > -1 && p.replace('px','') * 1) ||\n      (p.indexOf('pt') > -1 && p.replace('pt','') * 1.25) ||\n      p * 3.3;\n  }\n  return w;\n}\nfunction EventToCanvasId(e) {\n  return e.target && Defined(e.target.id) ? e.target.id :\n    e.srcElement.parentNode.id;\n}\nfunction EventXY(e, c) {\n  var xy, p, xmul = parseInt(GetProperty(c, 'width')) / c.width,\n    ymul = parseInt(GetProperty(c, 'height')) / c.height;\n  if(Defined(e.offsetX)) {\n    xy = {x: e.offsetX, y: e.offsetY};\n  } else {\n    p = AbsPos(c.id);\n    if(Defined(e.changedTouches))\n      e = e.changedTouches[0];\n    if(e.pageX)\n      xy = {x: e.pageX - p.x, y: e.pageY - p.y};\n  }\n  if(xy && xmul && ymul) {\n    xy.x /= xmul;\n    xy.y /= ymul;\n  }\n  return xy;\n}\nfunction MouseOut(e) {\n  var cv = e.target || e.fromElement.parentNode, tc = TagCanvas.tc[cv.id];\n  if(tc) {\n   tc.mx = tc.my = -1;\n   tc.UnFreeze();\n   tc.EndDrag();\n  }\n}\nfunction MouseMove(e) {\n  var i, t = TagCanvas, tc, p, tg = EventToCanvasId(e);\n  for(i in t.tc) {\n    tc = t.tc[i];\n    if(tc.tttimer) {\n      clearTimeout(tc.tttimer);\n      tc.tttimer = null;\n    }\n  }\n  if(tg && t.tc[tg]) {\n    tc = t.tc[tg];\n    if(p = EventXY(e, tc.canvas)) {\n      tc.mx = p.x;\n      tc.my = p.y;\n      tc.Drag(e, p);\n    }\n    tc.drawn = 0;\n  }\n}\nfunction MouseDown(e) {\n  var t = TagCanvas, cb = doc.addEventListener ? 0 : 1,\n    tg = EventToCanvasId(e);\n  if(tg && e.button == cb && t.tc[tg]) {\n    t.tc[tg].BeginDrag(e);\n  }\n}\nfunction MouseUp(e) {\n  var t = TagCanvas, cb = doc.addEventListener ? 0 : 1,\n    tg = EventToCanvasId(e), tc;\n  if(tg && e.button == cb && t.tc[tg]) {\n    tc = t.tc[tg];\n    MouseMove(e);\n    if(!tc.EndDrag() && !tc.touched)\n      tc.Clicked(e);\n  }\n}\nfunction TouchDown(e) {\n  var t = TagCanvas, tg = EventToCanvasId(e);\n  if(tg && e.changedTouches && t.tc[tg]) {\n    t.tc[tg].touched = 1;\n    t.tc[tg].BeginDrag(e);\n  }\n}\nfunction TouchUp(e) {\n  var t = TagCanvas, tg = EventToCanvasId(e);\n  if(tg && e.changedTouches && t.tc[tg]) {\n    TouchMove(e);\n    if(!t.tc[tg].EndDrag()){\n      t.tc[tg].Draw();\n      t.tc[tg].Clicked(e);\n    }\n  }\n}\nfunction TouchMove(e) {\n  var i, t = TagCanvas, tc, p, tg = EventToCanvasId(e);\n  for(i in t.tc) {\n    tc = t.tc[i];\n    if(tc.tttimer) {\n      clearTimeout(tc.tttimer);\n      tc.tttimer = null;\n    }\n  }\n  if(tg && t.tc[tg] && e.changedTouches) {\n    tc = t.tc[tg];\n    if(p = EventXY(e, tc.canvas)) {\n      tc.mx = p.x;\n      tc.my = p.y;\n      tc.Drag(e, p);\n    }\n    tc.drawn = 0;\n  }\n}\nfunction MouseWheel(e) {\n  var t = TagCanvas, tg = EventToCanvasId(e);\n  if(tg && t.tc[tg]) {\n    e.cancelBubble = true;\n    e.returnValue = false;\n    e.preventDefault && e.preventDefault();\n    t.tc[tg].Wheel((e.wheelDelta || e.detail) > 0);\n  }\n}\nfunction DrawCanvas() {\n  DrawCanvasRAF(TimeNow());\n}\nfunction DrawCanvasRAF(t) {\n  var tc = TagCanvas.tc, i;\n  TagCanvas.NextFrame(TagCanvas.interval);\n  t = t || TimeNow();\n  for(i in tc)\n    tc[i].Draw(t);\n}\nfunction AbsPos(id) {\n  var e = doc.getElementById(id), r = e.getBoundingClientRect(),\n    dd = doc.documentElement, b = doc.body, w = window,\n    xs = w.pageXOffset || dd.scrollLeft,\n    ys = w.pageYOffset || dd.scrollTop,\n    xo = dd.clientLeft || b.clientLeft,\n    yo = dd.clientTop || b.clientTop;\n  return { x: r.left + xs - xo, y: r.top + ys - yo };\n}\nfunction Project(tc,p1,sx,sy) {\n  var m = tc.radius * tc.z1 / (tc.z1 + tc.z2 + p1.z);\n  return {\n    x: p1.x * m * sx,\n    y: p1.y * m * sy,\n    z: p1.z,\n    w: (tc.z1 - p1.z) / tc.z2\n  };\n}\n/**\n * @constructor\n * for recursively splitting tag contents on <br> tags\n */\nfunction TextSplitter(e) {\n  this.e = e;\n  this.br = 0;\n  this.line = [];\n  this.text = [];\n  this.original = e.innerText || e.textContent;\n}\nTSproto = TextSplitter.prototype;\nTSproto.Lines = function(e) {\n  var r = e ? 1 : 0, cn, cl, i;\n  e = e || this.e;\n  cn = e.childNodes;\n  cl = cn.length;\n\n  for(i = 0; i < cl; ++i) {\n    if(cn[i].nodeName == 'BR') {\n      this.text.push(this.line.join(' '));\n      this.br = 1;\n    } else if(cn[i].nodeType == 3) {\n      if(this.br) {\n        this.line = [cn[i].nodeValue];\n        this.br = 0;\n      } else {\n        this.line.push(cn[i].nodeValue);\n      }\n    } else {\n      this.Lines(cn[i]);\n    }\n  }\n  r || this.br || this.text.push(this.line.join(' '));\n  return this.text;\n}\nTSproto.SplitWidth = function(w, c, f, h) {\n  var i, j, words, text = [];\n  c.font = h + 'px ' + f;\n  for(i = 0; i < this.text.length; ++i) {\n    words = this.text[i].split(/\\s+/);\n    this.line = [words[0]];\n    for(j = 1; j < words.length; ++j) {\n      if(c.measureText(this.line.join(' ') + ' ' + words[j]).width > w) {\n        text.push(this.line.join(' '));\n        this.line = [words[j]];\n      } else {\n        this.line.push(words[j]);\n      }\n    }\n    text.push(this.line.join(' '));\n  }\n  return this.text = text;\n}\n/**\n * @constructor\n */\nfunction Outline(tc,t) {\n  this.ts = TimeNow();\n  this.tc = tc;\n  this.tag = t;\n  this.x = this.y = this.w = this.h = this.sc = 1;\n  this.z = 0;\n  this.Draw = tc.pulsateTo < 1 && tc.outlineMethod != 'colour' ? \n    this.DrawPulsate : this.DrawSimple;\n  this.radius = tc.outlineRadius | 0;\n  this.SetMethod(tc.outlineMethod);\n}\nOproto = Outline.prototype;\nOproto.SetMethod = function(om) {\n  var methods = {\n    block: ['PreDraw','DrawBlock'],\n    colour: ['PreDraw','DrawColour'],\n    outline: ['PostDraw','DrawOutline'],\n    classic: ['LastDraw','DrawOutline'],\n    size: ['PreDraw','DrawColour'],\n    none: ['LastDraw']\n  }, funcs = methods[om] || methods.outline;\n  if(om == 'none') {\n    this.Draw = function() { return 1; }\n  } else {\n    this.drawFunc = this[funcs[1]];\n  }\n  this[funcs[0]] = this.Draw;\n};\nOproto.Update = function(x,y,w,h,sc,z,xo,yo) {\n  var o = this.tc.outlineOffset, o2 = 2 * o;\n  this.x = sc * x + xo - o;\n  this.y = sc * y + yo - o;\n  this.w = sc * w + o2;\n  this.h = sc * h + o2;\n  this.sc = sc; // used to determine frontmost\n  this.z = z;\n};\nOproto.DrawOutline = function(c,x,y,w,h,colour) {\n  c.strokeStyle = colour;\n  RRect(c, x, y, w, h, this.radius, true);\n};\nOproto.DrawColour = function(c,x,y,w,h,colour,tag,x1,y1) {\n  if(tag.oimage) {\n    tag.alpha = 1;\n    tag.Draw(c, x1, y1, tag.oimage);\n    return 1;\n  }\n  return this[tag.image ? 'DrawColourImage' : 'DrawColourText'](c,x,y,w,h,colour,tag,x1,y1);\n};\nOproto.DrawColourText = function(c,x,y,w,h,colour,tag,x1,y1) {\n  var normal = tag.colour;\n  tag.colour = colour;\n  tag.alpha = 1;\n  tag.Draw(c,x1,y1);\n  tag.colour = normal;\n  return 1;\n};\nOproto.DrawColourImage = function(c,x,y,w,h,colour,tag,x1,y1) {\n  var ccanvas = c.canvas, fx = ~~max(x,0), fy = ~~max(y,0), \n    fw = min(ccanvas.width - fx, w) + .5|0, fh = min(ccanvas.height - fy,h) + .5|0, cc;\n  if(ocanvas)\n    ocanvas.width = fw, ocanvas.height = fh;\n  else\n    ocanvas = NewCanvas(fw, fh);\n  if(!ocanvas)\n    return this.SetMethod('outline'); // if using IE and images, give up!\n  cc = ocanvas.getContext('2d');\n\n  cc.drawImage(ccanvas,fx,fy,fw,fh,0,0,fw,fh);\n  c.clearRect(fx,fy,fw,fh);\n  tag.alpha = 1;\n  tag.Draw(c,x1,y1);\n  c.setTransform(1,0,0,1,0,0);\n  c.save();\n  c.beginPath();\n  c.rect(fx,fy,fw,fh);\n  c.clip();\n  c.globalCompositeOperation = 'source-in';\n  c.fillStyle = colour;\n  c.fillRect(fx,fy,fw,fh);\n  c.restore();\n  c.globalCompositeOperation = 'destination-over';\n  c.drawImage(ocanvas,0,0,fw,fh,fx,fy,fw,fh);\n  c.globalCompositeOperation = 'source-over';\n  return 1;\n};\nOproto.DrawBlock = function(c,x,y,w,h,colour) {\n  c.fillStyle = colour;\n  RRect(c, x, y, w, h, this.radius);\n};\nOproto.DrawSimple = function(c, tag, x1, y1) {\n  var t = this.tc;\n  c.setTransform(1,0,0,1,0,0);\n  c.strokeStyle = t.outlineColour;\n  c.lineWidth = t.outlineThickness;\n  c.shadowBlur = c.shadowOffsetX = c.shadowOffsetY = 0;\n  c.globalAlpha = 1;\n  return this.drawFunc(c,this.x,this.y,this.w,this.h,t.outlineColour,tag,x1,y1);\n};\nOproto.DrawPulsate = function(c, tag, x1, y1) {\n  var diff = TimeNow() - this.ts, t = this.tc;\n  c.setTransform(1,0,0,1,0,0);\n  c.strokeStyle = t.outlineColour;\n  c.lineWidth = t.outlineThickness;\n  c.shadowBlur = c.shadowOffsetX = c.shadowOffsetY = 0;\n  c.globalAlpha = t.pulsateTo + ((1 - t.pulsateTo) * \n    (0.5 + (cos(2 * Math.PI * diff / (1000 * t.pulsateTime)) / 2)));\n  return this.drawFunc(c,this.x,this.y,this.w,this.h,t.outlineColour,tag,x1,y1);\n};\nOproto.Active = function(c,x,y) {\n  return (x >= this.x && y >= this.y &&\n    x <= this.x + this.w && y <= this.y + this.h);\n};\nOproto.PreDraw = Oproto.PostDraw = Oproto.LastDraw = Nop;\n/**\n * @constructor\n */\nfunction Tag(tc, text, a, v, w, h, col, bcol, bradius, boutline, bothickness,\n  font, padding, original) {\n  var c = tc.ctxt;\n  this.tc = tc;\n  this.image = text.src ? text : null;\n  this.text = text.src ? [] : text;\n  this.text_original = original;\n  this.line_widths = [];\n  this.title = a.title || null;\n  this.a = a;\n  this.position = new Vector(v[0], v[1], v[2]);\n  this.x = this.y = this.z = 0;\n  this.w = w;\n  this.h = h;\n  this.colour = col || tc.textColour;\n  this.bgColour = bcol || tc.bgColour;\n  this.bgRadius = bradius | 0;\n  this.bgOutline = boutline || this.colour;\n  this.bgOutlineThickness = bothickness | 0;\n  this.textFont = font || tc.textFont;\n  this.padding = padding | 0;\n  this.sc = this.alpha = 1;\n  this.weighted = !tc.weight;\n  this.outline = new Outline(tc,this);\n  if(!this.image) {\n    this.textHeight = tc.textHeight;\n    this.Measure(c,tc);\n  }\n  this.SetShadowColour = tc.shadowAlpha ? this.SetShadowColourAlpha : this.SetShadowColourFixed;\n  this.SetDraw(tc);\n}\nTproto = Tag.prototype;\nTproto.EqualTo = function(e) {\n  var i = e.getElementsByTagName('img');\n  if(this.a.href != e.href)\n    return 0;\n  if(i.length)\n    return this.image.src == i[0].src;\n  return (e.innerText || e.textContent) == this.text_original;\n};\nTproto.SetDraw = function(t) {\n  this.Draw = this.image ? (t.ie > 7 ? this.DrawImageIE : this.DrawImage) : this.DrawText;\n  t.noSelect && (this.CheckActive = Nop);\n};\nTproto.MeasureText = function(c) {\n  var i, l = this.text.length, w = 0, wl;\n  for(i = 0; i < l; ++i) {\n    this.line_widths[i] = wl = c.measureText(this.text[i]).width;\n    w = max(w, wl);\n  }\n  return w;\n};\nTproto.Measure = function(c,t) {\n  var extents = FindTextBoundingBox(this.text, this.textFont, this.textHeight),\n    s, th, f, soff, cw;\n  // add the gap at the top to the height to make equal gap at bottom\n  this.h = extents ? extents.max.y + extents.min.y : this.textHeight;\n  c.font = this.font = this.textHeight + 'px ' + this.textFont;\n  this.w = this.MeasureText(c);\n  if(t.txtOpt) {\n    s = t.txtScale;\n    th = s * this.textHeight;\n    f = th + 'px ' + this.textFont;\n    soff = [s * t.shadowOffset[0], s * t.shadowOffset[1]];\n    c.font = f;\n    cw = this.MeasureText(c);\n    this.image = TextToCanvas(this.text, f, cw + s, (s * this.h) + s, \n      this.colour, this.bgColour, this.bgOutline, s * this.bgOutlineThickness,\n      t.shadow, s * t.shadowBlur, soff, s * this.padding, s * this.bgRadius,\n      cw, this.line_widths);\n    // add outline image using highlight colour\n    if(t.outlineMethod == 'colour') {\n      this.oimage = TextToCanvas(this.text, f, cw + s, (s * this.h) + s, \n        t.outlineColour, this.bgColour, t.outlineColour,\n        s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\n        s * this.padding, s * this.bgRadius, cw, this.line_widths);\n    } else if(t.outlineMethod == 'size') {\n      extents = FindTextBoundingBox(this.text, this.textFont,\n        this.textHeight + t.outlineIncrease);\n      th = extents.max.y + extents.min.y;\n      f = (s * (this.textHeight + t.outlineIncrease)) + 'px ' + this.textFont;\n      c.font = f;\n      cw = this.MeasureText(c);\n      this.oimage = TextToCanvas(this.text, f, cw + s, (s * th) + s, \n        this.colour, this.bgColour, this.bgOutline, s * this.bgOutlineThickness,\n        t.shadow, s * t.shadowBlur, soff, s * this.padding, s * this.bgRadius,\n        cw, this.line_widths);\n      if(t.outlineIncrease > 0)\n        this.image = ExpandImage(this.image, this.oimage.width, this.oimage.height);\n      else\n        this.oimage = ExpandImage(this.oimage, this.image.width, this.image.height);\n    }\n    if(this.image) {\n      this.w = this.image.width / s;\n      this.h = this.image.height / s;\n    }\n    this.SetDraw(t);\n    t.txtOpt = !!this.image;\n  }\n};\nTproto.SetFont = function(f, c, bc, boc) {\n  this.textFont = f;\n  this.colour = c;\n  this.bgColour = bc;\n  this.bgOutline = boc;\n  this.Measure(this.tc.ctxt, this.tc);\n};\nTproto.SetWeight = function(w) {\n  var tc = this.tc, modes = tc.weightMode.split(/[, ]/), m, s, wl = w.length;\n  if(!this.text.length)\n    return;\n  this.weighted = true;\n  for(s = 0; s < wl; ++s) {\n    m = modes[s] || 'size';\n    if('both' == m) {\n      this.Weight(w[s], tc.ctxt, tc, 'size', tc.min_weight[s], \n        tc.max_weight[s], s);\n      this.Weight(w[s], tc.ctxt, tc, 'colour', tc.min_weight[s],\n        tc.max_weight[s], s);\n    } else {\n      this.Weight(w[s], tc.ctxt, tc, m, tc.min_weight[s], tc.max_weight[s], s);\n    }\n  }\n  this.Measure(tc.ctxt, tc);\n};\nTproto.Weight = function(w, c, t, m, wmin, wmax, wnum) {\n  w = isNaN(w) ? 1 : w;\n  var nweight = (w - wmin) / (wmax - wmin);\n  if('colour' == m)\n    this.colour = FindGradientColour(t, nweight, wnum);\n  else if('bgcolour' == m)\n    this.bgColour = FindGradientColour(t, nweight, wnum);\n  else if('bgoutline' == m)\n    this.bgOutline = FindGradientColour(t, nweight, wnum);\n  else if('size' == m) {\n    if(t.weightSizeMin > 0 && t.weightSizeMax > t.weightSizeMin) {\n      this.textHeight = t.weightSize * \n        (t.weightSizeMin + (t.weightSizeMax - t.weightSizeMin) * nweight);\n    } else {\n      // min textHeight of 1\n      this.textHeight = max(1, w * t.weightSize);\n    }\n  }\n};\nTproto.SetShadowColourFixed = function(c,s,a) {\n  c.shadowColor = s;\n};\nTproto.SetShadowColourAlpha = function(c,s,a) {\n  c.shadowColor = SetAlpha(s, a);\n};\nTproto.DrawText = function(c,xoff,yoff) {\n  var t = this.tc, x = this.x, y = this.y, s = this.sc, i, xl;\n  c.globalAlpha = this.alpha;\n  c.fillStyle = this.colour;\n  t.shadow && this.SetShadowColour(c,t.shadow,this.alpha);\n  c.font = this.font;\n  x += xoff / s;\n  y += (yoff / s) - (this.h / 2);\n  for(i = 0; i < this.text.length; ++i) {\n    xl = x - (this.line_widths[i] / 2);\n    c.setTransform(s, 0, 0, s, s * xl, s * y);\n    c.fillText(this.text[i], 0, 0);\n    y += this.textHeight;\n  }\n};\nTproto.DrawImage = function(c,xoff,yoff,im) {\n  var x = this.x, y = this.y, s = this.sc,\n    i = im || this.image, w = this.w, h = this.h, a = this.alpha,\n    shadow = this.shadow;\n  c.globalAlpha = a;\n  shadow && this.SetShadowColour(c,shadow,a);\n  x += (xoff / s) - (w / 2);\n  y += (yoff / s) - (h / 2);\n  c.setTransform(s, 0, 0, s, s * x, s * y);\n  c.drawImage(i, 0, 0, w, h);\n};\nTproto.DrawImageIE = function(c,xoff,yoff) {\n  var i = this.image, s = this.sc,\n    w = i.width = this.w*s, h = i.height = this.h * s,\n    x = (this.x*s) + xoff - (w/2), y = (this.y*s) + yoff - (h/2);\n  c.setTransform(1,0,0,1,0,0);\n  c.globalAlpha = this.alpha;\n  c.drawImage(i, x, y);\n};\nTproto.Calc = function(m,a) {\n  var pp, t = this.tc, mnb = t.minBrightness,\n    mxb = t.maxBrightness, r = t.max_radius;\n  pp = m.xform(this.position);\n  this.xformed = pp;\n  pp = Project(t, pp, t.stretchX, t.stretchY);\n  this.x = pp.x;\n  this.y = pp.y;\n  this.z = pp.z;\n  this.sc = pp.w;\n  this.alpha = a * Clamp(mnb + (mxb - mnb) * (r - this.z) / (2 * r), 0, 1);\n};\nTproto.UpdateActive = function(c, xoff, yoff) {\n  var o = this.outline, w = this.w, h = this.h,\n    x = this.x - w/2, y = this.y - h/2;\n  o.Update(x, y, w, h, this.sc, this.z, xoff, yoff);\n  return o;\n};\nTproto.CheckActive = function(c,xoff,yoff) {\n  var t = this.tc, o = this.UpdateActive(c, xoff, yoff);\n  return o.Active(c, t.mx, t.my) ? o : null;\n};\nTproto.Clicked = function(e) {\n  var a = this.a, t = a.target, h = a.href, evt;\n  if(t != '' && t != '_self') {\n    if(self.frames[t]) {\n      self.frames[t].document.location = h;\n    } else{\n      try {\n        if(top.frames[t]) {\n          top.frames[t].document.location = h;\n          return;\n        }\n      } catch(err) {\n        // different domain/port/protocol?\n      }\n      window.open(h, t);\n    }\n    return;\n  }\n  if(doc.createEvent) {\n    evt = doc.createEvent('MouseEvents');\n    evt.initMouseEvent('click', 1, 1, window, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, null);\n    if(!a.dispatchEvent(evt))\n      return;\n  } else if(a.fireEvent) {\n    if(!a.fireEvent('onclick'))\n      return;\n  }\n  doc.location = h;\n};\n/**\n * @constructor\n */\nfunction TagCanvas(cid,lctr,opt) {\n  var i, p, c = doc.getElementById(cid), cp = ['id','class','innerHTML'], raf;\n\n  if(!c) throw 0;\n  if(Defined(window.G_vmlCanvasManager)) {\n    c = window.G_vmlCanvasManager.initElement(c);\n    this.ie = parseFloat(navigator.appVersion.split('MSIE')[1]);\n  }\n  if(c && (!c.getContext || !c.getContext('2d').fillText)) {\n    p = doc.createElement('DIV');\n    for(i = 0; i < cp.length; ++i)\n      p[cp[i]] = c[cp[i]];\n    c.parentNode.insertBefore(p,c);\n    c.parentNode.removeChild(c);\n    throw 0;\n  }\n  for(i in TagCanvas.options)\n    this[i] = opt && Defined(opt[i]) ? opt[i] : \n      (Defined(TagCanvas[i]) ? TagCanvas[i] : TagCanvas.options[i]);\n\n  this.canvas = c;\n  this.ctxt = c.getContext('2d');\n  this.z1 = 250 / this.depth;\n  this.z2 = this.z1 / this.zoom;\n  this.radius = min(c.height, c.width) * 0.0075; // fits radius of 100 in canvas\n  this.max_weight = [];\n  this.min_weight = [];\n  this.textFont = this.textFont && FixFont(this.textFont);\n  this.textHeight *= 1;\n  this.pulsateTo = Clamp(this.pulsateTo, 0, 1);\n  this.minBrightness = Clamp(this.minBrightness, 0, 1);\n  this.maxBrightness = Clamp(this.maxBrightness, this.minBrightness, 1);\n  this.ctxt.textBaseline = 'top';\n  this.lx = (this.lock + '').indexOf('x') + 1;\n  this.ly = (this.lock + '').indexOf('y') + 1;\n  this.frozen = this.dx = this.dy = this.fixedAnim = this.touched = 0;\n  this.fixedAlpha = 1;\n  this.source = lctr || cid;\n  this.transform = Matrix.Identity();\n  this.startTime = this.time = TimeNow();\n  this.Animate = this.dragControl ? this.AnimateDrag : this.AnimatePosition;\n  this.animTiming = (typeof TagCanvas[this.animTiming] == 'function' ?\n    TagCanvas[this.animTiming] : TagCanvas.Smooth);\n  if(this.shadowBlur || this.shadowOffset[0] || this.shadowOffset[1]) {\n    // let the browser translate \"red\" into \"#ff0000\"\n    this.ctxt.shadowColor = this.shadow;\n    this.shadow = this.ctxt.shadowColor;\n    this.shadowAlpha = ShadowAlphaBroken();\n  } else {\n    delete this.shadow;\n  }\n  this.Load();\n  if(lctr && this.hideTags) {\n    (function(t) {\n    if(TagCanvas.loaded)\n      t.HideTags();\n    else\n      AddHandler('load', function() { t.HideTags(); }, window);\n    })(this);\n  }\n\n  this.yaw = this.initial ? this.initial[0] * this.maxSpeed : 0;\n  this.pitch = this.initial ? this.initial[1] * this.maxSpeed : 0;\n  if(this.tooltip) {\n    if(this.tooltip == 'native') {\n      this.Tooltip = this.TooltipNative;\n    } else {\n      this.Tooltip = this.TooltipDiv;\n      if(!this.ttdiv) {\n        this.ttdiv = doc.createElement('div');\n        this.ttdiv.className = this.tooltipClass;\n        this.ttdiv.style.position = 'absolute';\n        this.ttdiv.style.zIndex = c.style.zIndex + 1;\n        AddHandler('mouseover',function(e){e.target.style.display='none';},this.ttdiv);\n        doc.body.appendChild(this.ttdiv);\n      }\n    }\n  } else {\n    this.Tooltip = this.TooltipNone;\n  }\n  if(!this.noMouse && !handlers[cid]) {\n    AddHandler('mousemove', MouseMove, c);\n    AddHandler('mouseout', MouseOut, c);\n    AddHandler('mouseup', MouseUp, c);\n    AddHandler('touchstart', TouchDown, c);\n    AddHandler('touchend', TouchUp, c);\n    AddHandler('touchcancel', TouchUp, c);\n    AddHandler('touchmove', TouchMove, c);\n    if(this.dragControl) {\n      AddHandler('mousedown', MouseDown, c);\n      AddHandler('selectstart', Nop, c);\n    }\n    if(this.wheelZoom) {\n      AddHandler('mousewheel', MouseWheel, c);\n      AddHandler('DOMMouseScroll', MouseWheel, c);\n    }\n    handlers[cid] = 1;\n  }\n  if(!TagCanvas.started) {\n    raf = window.requestAnimationFrame = window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n      window.msRequestAnimationFrame;\n    TagCanvas.NextFrame = raf ? TagCanvas.NextFrameRAF :\n      TagCanvas.NextFrameTimeout;\n    TagCanvas.interval = this.interval;\n    TagCanvas.NextFrame(this.interval);\n    TagCanvas.started = 1;\n  }\n}\nTCproto = TagCanvas.prototype;\nTCproto.SourceElements = function() {\n  if(doc.querySelectorAll)\n    return doc.querySelectorAll('#' + this.source);\n  return [doc.getElementById(this.source)];\n};\nTCproto.HideTags = function() {\n  var el = this.SourceElements(), i;\n  for(i = 0; i < el.length; ++i)\n    el[i].style.display = 'none';\n};\nTCproto.GetTags = function() {\n  var el = this.SourceElements(), etl, tl = [], i, j;\n  for(i = 0; i < el.length; ++i) {\n    etl = el[i].getElementsByTagName('a');\n    for(j = 0; j < etl.length; ++j) {\n      tl.push(etl[j]);\n    }\n  }\n  return tl;\n};\nTCproto.CreateTag = function(e, p) {\n  var im = e.getElementsByTagName('img'), i, t, ts, font, bc, boc;\n  p = p || [0, 0, 0];\n  if(im.length) {\n    i = new Image;\n    i.src = im[0].src;\n    t = new Tag(this, i, e, p, 0, 0);\n    AddImage(i, im[0], t, this);\n    return t;\n  }\n  ts = new TextSplitter(e);\n  t = ts.Lines();\n  font = this.textFont || FixFont(GetProperty(e,'font-family'));\n  if(this.splitWidth)\n    t = ts.SplitWidth(this.splitWidth, this.ctxt, font, this.textHeight);\n\n  bc = this.bgColour == 'tag' ? GetProperty(e, 'background-color') :\n    this.bgColour;\n  boc = this.bgOutline == 'tag' ? GetProperty(e, 'color') : this.bgOutline;\n  return new Tag(this, t, e, p, 2, this.textHeight + 2,\n    this.textColour || GetProperty(e,'color'), bc, this.bgRadius,\n    boc, this.bgOutlineThickness, font, this.padding, ts.original);\n};\nTCproto.UpdateTag = function(t, a) {\n  var colour = this.textColour || GetProperty(a, 'color'),\n    font = this.textFont || FixFont(GetProperty(a, 'font-family')),\n    bc = this.bgColour == 'tag' ? GetProperty(a, 'background-color') :\n      this.bgColour, boc = this.bgOutline == 'tag' ? GetProperty(a, 'color') :\n      this.bgOutline;\n  t.a = a;\n  t.title = a.title;\n  if(t.colour != colour || t.textFont != font || t.bgColour != bc ||\n    t.bgOutline != boc)\n    t.SetFont(font, colour, bc, boc);\n};\nTCproto.Weight = function(tl) {\n  var ll = tl.length, w, i, s, weights = [], valid,\n    wfrom = this.weightFrom ? this.weightFrom.split(/[, ]/) : [null],\n    wl = wfrom.length;\n  for(i = 0; i < ll; ++i) {\n    weights[i] = [];\n    for(s = 0; s < wl; ++s) {\n      w = FindWeight(tl[i].a, wfrom[s], this.textHeight);\n      if(!this.max_weight[s] || w > this.max_weight[s])\n        this.max_weight[s] = w;\n      if(!this.min_weight[s] || w < this.min_weight[s])\n        this.min_weight[s] = w;\n      weights[i][s] = w;\n    }\n  }\n  for(s = 0; s < wl; ++s) {\n    if(this.max_weight[s] > this.min_weight[s])\n      valid = 1;\n  }\n  if(valid) {\n    for(i = 0; i < ll; ++i) {\n      tl[i].SetWeight(weights[i]);\n    }\n  }\n};\nTCproto.Load = function() {\n  var tl = this.GetTags(), taglist = [], shape,\n    shapeArgs, rx, ry, rz, vl, i, tagmap = [], pfuncs = {\n      sphere: PointsOnSphere,\n      vcylinder: PointsOnCylinderV,\n      hcylinder: PointsOnCylinderH,\n      vring: PointsOnRingV,\n      hring: PointsOnRingH\n    };\n\n  if(tl.length) {\n    tagmap.length = tl.length;\n    for(i = 0; i < tl.length; ++i)\n      tagmap[i] = i;\n    this.shuffleTags && Shuffle(tagmap);\n    rx = 100 * this.radiusX;\n    ry = 100 * this.radiusY;\n    rz = 100 * this.radiusZ;\n    this.max_radius = max(rx, max(ry, rz));\n\n    if(this.shapeArgs) {\n      this.shapeArgs[0] = tl.length;\n    } else {\n      shapeArgs = this.shape.toString().split(/[(),]/);\n      shape = shapeArgs.shift();\n      this.shape = pfuncs[shape] || pfuncs.sphere;\n      this.shapeArgs = [tl.length, rx, ry, rz].concat(shapeArgs);\n    }\n    vl = this.shape.apply(this, this.shapeArgs);\n    this.listLength = tl.length;\n    for(i = 0; i < tl.length; ++i) {\n      taglist.push(this.CreateTag(tl[tagmap[i]], vl[i]));\n    }\n    this.weight && this.Weight(taglist, true);\n  }\n  this.taglist = taglist;\n};\nTCproto.Update = function() {\n  var tl = this.GetTags(), newlist = [],\n    taglist = this.taglist, found,\n    added = [], removed = [], vl, ol, nl, i, j;\n\n  if(!this.shapeArgs)\n    return this.Load();\n\n  if(tl.length) {\n    nl = this.listLength = tl.length;\n    ol = taglist.length;\n\n    // copy existing list, populate \"removed\"\n    for(i = 0; i < ol; ++i) {\n      newlist.push(taglist[i]);\n      removed.push(i);\n    }\n\n    // find added and removed tags\n    for(i = 0; i < nl; ++i) {\n      for(j = 0, found = 0; j < ol; ++j) {\n        if(taglist[j].EqualTo(tl[i])) {\n          this.UpdateTag(newlist[j], tl[i]);\n          found = removed[j] = -1;\n        }\n      }\n      if(!found)\n        added.push(i);\n    }\n\n    // clean out found tags from removed list\n    for(i = 0, j = 0; i < ol; ++i) {\n      if(removed[j] == -1)\n        removed.splice(j,1);\n      else\n        ++j;\n    }\n\n    // insert new tags in gaps where old tags removed\n    if(removed.length) {\n      Shuffle(removed);\n      while(removed.length && added.length) {\n        i = removed.shift();\n        j = added.shift();\n        newlist[i] = this.CreateTag(tl[j]);\n      }\n\n      // remove any more (in reverse order)\n      removed.sort(function(a,b) {return a-b});\n      while(removed.length) {\n        newlist.splice(removed.pop(), 1);\n      }\n    }\n\n    // add any extra tags\n    j = newlist.length / (added.length + 1);\n    i = 0;\n    while(added.length) {\n      newlist.splice(ceil(++i * j), 0, this.CreateTag(tl[added.shift()]));\n    }\n\n    // assign correct positions to tags\n    this.shapeArgs[0] = nl = newlist.length;\n    vl = this.shape.apply(this, this.shapeArgs);\n    for(i = 0; i < nl; ++i)\n      newlist[i].position = new Vector(vl[i][0], vl[i][1], vl[i][2]);\n\n    // reweight tags\n    this.weight && this.Weight(newlist);\n  }\n  this.taglist = newlist;\n};\nTCproto.SetShadow = function(c) {\n  c.shadowBlur = this.shadowBlur;\n  c.shadowOffsetX = this.shadowOffset[0];\n  c.shadowOffsetY = this.shadowOffset[1];\n};\nTCproto.Draw = function(t) {\n  if(this.paused)\n    return;\n  var cv = this.canvas, cw = cv.width, ch = cv.height, max_sc = 0,\n    tdelta = (t - this.time) * TagCanvas.interval / 1000,\n    x = cw / 2 + this.offsetX, y = ch / 2 + this.offsetY, c = this.ctxt,\n    active, a, i, aindex = -1, tl = this.taglist, l = tl.length,\n    frontsel = this.frontSelect, centreDrawn = (this.centreFunc == Nop), fixed;\n  this.time = t;\n  if(this.frozen && this.drawn)\n    return this.Animate(cw,ch,tdelta);\n  fixed = this.AnimateFixed();\n  c.setTransform(1,0,0,1,0,0);\n  for(i = 0; i < l; ++i)\n    tl[i].Calc(this.transform, this.fixedAlpha);\n  tl = SortList(tl, function(a,b) {return b.z-a.z});\n  \n  if(fixed && this.fixedAnim.active) {\n    active = this.fixedAnim.tag.UpdateActive(c, x, y);\n  } else {\n    this.active = null;\n    for(i = 0; i < l; ++i) {\n      a = this.mx >= 0 && this.my >= 0 && this.taglist[i].CheckActive(c, x, y);\n      if(a && a.sc > max_sc && (!frontsel || a.z <= 0)) {\n        active = a;\n        aindex = i;\n        active.tag = this.taglist[i];\n        max_sc = a.sc;\n      }\n    }\n    this.active = active;\n  }\n\n  this.txtOpt || (this.shadow && this.SetShadow(c));\n  c.clearRect(0,0,cw,ch);\n  for(i = 0; i < l; ++i) {\n    if(!centreDrawn && tl[i].z <= 0) {\n      // run the centreFunc if the next tag is at the front\n      try { this.centreFunc(c, cw, ch, x, y); }\n      catch(e) {\n        alert(e);\n        // don't run it again\n        this.centreFunc = Nop;\n      }\n      centreDrawn = true;\n    }\n\n    if(!(active && active.tag == tl[i] && active.PreDraw(c, tl[i], x, y)))\n      tl[i].Draw(c, x, y);\n    active && active.tag == tl[i] && active.PostDraw(c);\n  }\n  if(this.freezeActive && active) {\n    this.Freeze();\n  } else {\n    this.UnFreeze();\n    this.drawn = (l == this.listLength);\n  }\n  if(this.fixedCallback) {\n    this.fixedCallback(this,this.fixedCallbackTag);\n    this.fixedCallback = null;\n  }\n  fixed || this.Animate(cw, ch, tdelta);\n  active && active.LastDraw(c);\n  cv.style.cursor = active ? this.activeCursor : '';\n  this.Tooltip(active,this.taglist[aindex]);\n};\nTCproto.TooltipNone = function() { };\nTCproto.TooltipNative = function(active,tag) {\n  this.canvas.title = active && tag && tag.title ? tag.title : '';\n};\nTCproto.TooltipDiv = function(active,tag) {\n  var tc = this, s = tc.ttdiv.style, cid = tc.canvas.id, none = 'none';\n  if(active && tag && tag.title) {\n    if(tag.title != tc.ttdiv.innerHTML)\n      s.display = none;\n    tc.ttdiv.innerHTML = tag.title;\n    tag.title = tc.ttdiv.innerHTML;\n    if(s.display == none && ! tc.tttimer) {\n      tc.tttimer = setTimeout(function() {\n        var p = AbsPos(cid);\n        s.display = 'block';\n        s.left = p.x + tc.mx + 'px';\n        s.top = p.y + tc.my + 24 + 'px';\n        tc.tttimer = null;\n      }, tc.tooltipDelay);\n    }\n  } else {\n    s.display = none;\n  }\n};\nTCproto.Transform = function(tc, p, y) {\n  if(p || y) {\n    var sp = sin(p), cp = cos(p), sy = sin(y), cy = cos(y),\n      ym = new Matrix([cy,0,sy, 0,1,0, -sy,0,cy]),\n      pm = new Matrix([1,0,0, 0,cp,-sp, 0,sp,cp]);\n    tc.transform = tc.transform.mul(ym.mul(pm));\n  }\n};\nTCproto.AnimateFixed = function() {\n  var fa, t1, angle, m, d;\n  if(this.fadeIn) {\n    t1 = TimeNow() - this.startTime;\n    if(t1 >= this.fadeIn) {\n      this.fadeIn = 0;\n      this.fixedAlpha = 1;\n    } else {\n      this.fixedAlpha = t1 / this.fadeIn;\n    }\n  }\n  if(this.fixedAnim) {\n    if(!this.fixedAnim.transform)\n      this.fixedAnim.transform = this.transform;\n    fa = this.fixedAnim, t1 = TimeNow() - fa.t0, angle = fa.angle,\n      m, d = this.animTiming(fa.t, t1);\n    this.transform = fa.transform;\n    if(t1 >= fa.t) {\n      this.fixedCallbackTag = fa.tag;\n      this.fixedCallback = fa.cb;\n      this.fixedAnim = this.yaw = this.pitch = 0;\n    } else {\n      angle *= d;\n    }\n    m = Matrix.Rotation(angle, fa.axis);\n    this.transform = this.transform.mul(m);\n    return (this.fixedAnim != 0);\n  }\n  return false;\n};\nTCproto.AnimatePosition = function(w, h, t) {\n  var tc = this, x = tc.mx, y = tc.my, s, r;\n  if(!tc.frozen && x >= 0 && y >= 0 && x < w && y < h) {\n    s = tc.maxSpeed, r = tc.reverse ? -1 : 1;\n    tc.lx || (tc.yaw = ((x * 2 * s / w) - s) * r * t);\n    tc.ly || (tc.pitch = ((y * 2 * s / h) - s) * -r * t);\n    tc.initial = null;\n  } else if(!tc.initial) {\n    if(tc.frozen && !tc.freezeDecel)\n      tc.yaw = tc.pitch = 0;\n    else\n      tc.Decel(tc);\n  }\n  this.Transform(tc, tc.pitch, tc.yaw);\n};\nTCproto.AnimateDrag = function(w, h, t) {\n  var tc = this, rs = 100 * t * tc.maxSpeed / tc.max_radius / tc.zoom;\n  if(tc.dx || tc.dy) {\n    tc.lx || (tc.yaw = tc.dx * rs / tc.stretchX);\n    tc.ly || (tc.pitch = tc.dy * -rs / tc.stretchY);\n    tc.dx = tc.dy = 0;\n    tc.initial = null;\n  } else if(!tc.initial) {\n    tc.Decel(tc);\n  }\n  this.Transform(tc, tc.pitch, tc.yaw);\n};\nTCproto.Freeze = function() {\n  if(!this.frozen) {\n    this.preFreeze = [this.yaw, this.pitch];\n    this.frozen = 1;\n    this.drawn = 0;\n  }\n};\nTCproto.UnFreeze = function() {\n  if(this.frozen) {\n    this.yaw = this.preFreeze[0];\n    this.pitch = this.preFreeze[1];\n    this.frozen = 0;\n  }\n};\nTCproto.Decel = function(tc) {\n  var s = tc.minSpeed, ay = abs(tc.yaw), ap = abs(tc.pitch);\n  if(!tc.lx && ay > s)\n    tc.yaw = ay > tc.z0 ? tc.yaw * tc.decel : 0;\n  if(!tc.ly && ap > s)\n    tc.pitch = ap > tc.z0 ? tc.pitch * tc.decel : 0;\n};\nTCproto.Zoom = function(r) {\n  this.z2 = this.z1 * (1/r);\n  this.drawn = 0;\n};\nTCproto.Clicked = function(e) {\n  var a = this.active;\n  try {\n    if(a && a.tag)\n      if(this.clickToFront === false || this.clickToFront === null)\n        a.tag.Clicked(e);\n      else\n        this.TagToFront(a.tag, this.clickToFront, function() {\n          a.tag.Clicked(e);\n        }, true);\n  } catch(ex) {\n  }\n};\nTCproto.Wheel = function(i) {\n  var z = this.zoom + this.zoomStep * (i ? 1 : -1);\n  this.zoom = min(this.zoomMax,max(this.zoomMin,z));\n  this.Zoom(this.zoom);\n};\nTCproto.BeginDrag = function(e) {\n  this.down = EventXY(e, this.canvas);\n  e.cancelBubble = true;\n  e.returnValue = false;\n  e.preventDefault && e.preventDefault();\n};\nTCproto.Drag = function(e, p) {\n  if(this.dragControl && this.down) {\n    var t2 = this.dragThreshold * this.dragThreshold,\n      dx = p.x - this.down.x, dy = p.y - this.down.y;\n    if(this.dragging || dx * dx + dy * dy > t2) {\n      this.dx = dx;\n      this.dy = dy;\n      this.dragging = 1;\n      this.down = p;\n    }\n  }\n};\nTCproto.EndDrag = function() {\n  var res = this.dragging;\n  this.dragging = this.down = null;\n  return res;\n};\nTCproto.Pause = function() { this.paused = true; };\nTCproto.Resume = function() { this.paused = false; };\nTCproto.SetSpeed = function(i) {\n  this.initial = i;\n  this.yaw = i[0] * this.maxSpeed;\n  this.pitch = i[1] * this.maxSpeed;\n};\nTCproto.FindTag = function(t) {\n  if(!Defined(t))\n    return null;\n  Defined(t.index) && (t = t.index);\n  if(!IsObject(t))\n    return this.taglist[t];\n  var srch, tgt, i;\n  if(Defined(t.id))\n    srch = 'id', tgt = t.id;\n  else if(Defined(t.text))\n    srch = 'innerText', tgt = t.text;\n\n  for(i = 0; i < this.taglist.length; ++i)\n    if(this.taglist[i].a[srch] == tgt)\n      return this.taglist[i];\n};\nTCproto.RotateTag = function(tag, lt, lg, time, callback, active) {\n  var t = tag.xformed, v1 = new Vector(t.x, t.y, t.z),\n    v2 = MakeVector(lg, lt), angle = v1.angle(v2), u = v1.cross(v2).unit();\n  if(angle == 0) {\n    this.fixedCallbackTag = tag;\n    this.fixedCallback = callback;\n  } else {\n    this.fixedAnim = {\n      angle: -angle,\n      axis: u,\n      t: time,\n      t0: TimeNow(),\n      cb: callback,\n      tag: tag,\n      active: active\n    };\n  }\n};\nTCproto.TagToFront = function(tag, time, callback, active) {\n  this.RotateTag(tag, 0, 0, time, callback, active);\n};\nTagCanvas.Start = function(id,l,o) {\n  TagCanvas.tc[id] = new TagCanvas(id,l,o);\n};\nfunction tccall(f,id) {\n  TagCanvas.tc[id] && TagCanvas.tc[id][f]();\n}\nTagCanvas.Linear = function(t, t0) { return t0 / t; }\nTagCanvas.Smooth = function(t, t0) { return 0.5 - cos(t0 * Math.PI / t) / 2; }\nTagCanvas.Pause = function(id) { tccall('Pause',id); };\nTagCanvas.Resume = function(id) { tccall('Resume',id); };\nTagCanvas.Reload = function(id) { tccall('Load',id); };\nTagCanvas.Update = function(id) { tccall('Update',id); };\nTagCanvas.SetSpeed = function(id, speed) {\n  if(IsObject(speed) && TagCanvas.tc[id] &&\n    !isNaN(speed[0]) && !isNaN(speed[1])) {\n    TagCanvas.tc[id].SetSpeed(speed);\n    return true;\n  }\n  return false;\n};\nTagCanvas.TagToFront = function(id, options) {\n  if(!IsObject(options))\n    return false;\n  options.lat = options.lng = 0;\n  return TagCanvas.RotateTag(id, options);\n};\nTagCanvas.RotateTag = function(id, options) {\n  if(IsObject(options) && TagCanvas.tc[id]) {\n    if(isNaN(options.time))\n      options.time = 500;\n    var tt = TagCanvas.tc[id].FindTag(options);\n    if(tt) {\n      TagCanvas.tc[id].RotateTag(tt, options.lat, options.lng,\n        options.time, options.callback, options.active);\n      return true;\n    }\n  }\n  return false;\n};\nTagCanvas.Delete = function(id) {\n  delete handlers[id];\n  delete TagCanvas.tc[id];\n};\nTagCanvas.NextFrameRAF = function() {\n  requestAnimationFrame(DrawCanvasRAF);\n};\nTagCanvas.NextFrameTimeout = function(iv) {\n  setTimeout(DrawCanvas, iv);\n};\nTagCanvas.tc = {};\nTagCanvas.options = {\nz1: 20000,\nz2: 20000,\nz0: 0.0002,\nfreezeActive: false,\nfreezeDecel: false,\nactiveCursor: 'pointer',\npulsateTo: 1,\npulsateTime: 3,\nreverse: false,\ndepth: 0.5,\nmaxSpeed: 0.05,\nminSpeed: 0,\ndecel: 0.95,\ninterval: 20,\nminBrightness: 0.1,\nmaxBrightness: 1,\noutlineColour: '#ffff99',\noutlineThickness: 2,\noutlineOffset: 5,\noutlineMethod: 'outline',\noutlineRadius: 0,\ntextColour: '#ff99ff',\ntextHeight: 15,\ntextFont: 'Helvetica, Arial, sans-serif',\nshadow: '#000',\nshadowBlur: 0,\nshadowOffset: [0,0],\ninitial: null,\nhideTags: true,\nzoom: 1,\nweight: false,\nweightMode: 'size',\nweightFrom: null,\nweightSize: 1,\nweightSizeMin: null,\nweightSizeMax: null,\nweightGradient: {0:'#f00', 0.33:'#ff0', 0.66:'#0f0', 1:'#00f'},\ntxtOpt: true,\ntxtScale: 2,\nfrontSelect: false,\nwheelZoom: true,\nzoomMin: 0.3,\nzoomMax: 3,\nzoomStep: 0.05,\nshape: 'sphere',\nlock: null,\ntooltip: null,\ntooltipDelay: 300,\ntooltipClass: 'tctooltip',\nradiusX: 1,\nradiusY: 1,\nradiusZ: 1,\nstretchX: 1,\nstretchY: 1,\noffsetX: 0,\noffsetY: 0,\nshuffleTags: false,\nnoSelect: false,\nnoMouse: false,\nimageScale: 1,\npaused: false,\ndragControl: false,\ndragThreshold: 4,\ncentreFunc: Nop,\nsplitWidth: 0,\nanimTiming: 'Smooth',\nclickToFront: false,\nfadeIn: 0,\npadding: 0,\nbgColour: null,\nbgRadius: 0,\nbgOutline: null,\nbgOutlineThickness: 0,\noutlineIncrease: 4\n};\nfor(i in TagCanvas.options) TagCanvas[i] = TagCanvas.options[i];\nwindow.TagCanvas = TagCanvas;\n// set a flag for when the window has loaded\nAddHandler('load',function(){TagCanvas.loaded=1},window);\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/tagcanvas.js","<template>\n  <div id=\"app\" class=\"container my-0 mx-a\">\n    <header class=\"position-absolute\">\n      <img src=\"./images/header-logo.svg\" alt=\"\">\n      <div class=\"float-right settings d-flex justify-content-center align-items-center\">\n        <button @click=\"showSettings = !showSettings\">Settings</button>\n        <button @click=\"reset\">Reset</button>\n        <button @click=\"showList = !showList\">List</button>\n      </div>\n    </header>\n    <div class=\"canvas-container\">\n      <canvas id=\"canvas\"></canvas>\n    </div>\n    <button @click=\"go\" class=\"go\">{{ goText }}</button>\n    <b-modal id=\"settings\" title=\"Settings\" v-model=\"showSettings\">\n      <b-form-group label=\"Enter the max number\" label-for=\"input1\">\n        <b-form-input id=\"input1\" type=\"number\" v-model.trim=\"number\"></b-form-input>\n      </b-form-group>\n      <div slot=\"modal-footer\" class=\"w-100\">\n         <b-btn size=\"sm\" class=\"float-right\" variant=\"primary\" @click=\"saveSettings\">\n           Save\n         </b-btn>\n       </div>\n    </b-modal>\n    <b-modal id=\"list\" title=\"List\" v-model=\"showList\">\n      <ul class=\"list-unstyled\">\n        <li v-for=\"name in list\">{{ name }}</li>\n      </ul>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery'\nimport store from 'store'\nimport LuckyDraw from '@/js/luckyDraw'\nimport '@/js/tagcanvas'\n\nconst luckyDraw = new LuckyDraw()\nconst canvasID = 'canvas'\nlet tc\nlet tags = $('<div id=\"tags\">').appendTo($('body')).hide()\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      status: 0,\n      number: 500,\n      list: [],\n      showSettings: false,\n      showList: false\n    }\n  },\n  computed: {\n    goText() {\n      switch (this.status) {\n        case 0:\n          return 'GO'\n        case 1:\n          return 'STOP'\n        case 2:\n          return 'GO'\n      }\n    }\n  },\n  mounted() {\n    this.number = luckyDraw.getAll().length\n    this.setOptions()\n    $(document).on('keyup', event => {\n      if (event.which != 32) {\n        return\n      }\n      event.preventDefault()\n      this.processDraw()\n    })\n    $(window).on('resize', this.resize.bind(this))\n    this.resize()\n    this.restart()\n  },\n  methods: {\n    go() {\n      this.processDraw()\n    },\n    reset() {\n      luckyDraw.reset()\n      this.restart()\n    },\n    saveSettings() {\n      let names = [...Array(parseInt(this.number, 10) + 1).keys()].slice(1)\n      luckyDraw.update(names)\n      this.restart()\n      this.showSettings = false\n    },\n    setOptions() {\n      TagCanvas.textColour = null\n      TagCanvas.textHeight = 40\n      TagCanvas.outlineMethod = 'colour'\n      TagCanvas.fadeIn = 800\n      TagCanvas.outlineColour = '#fff'\n      TagCanvas.outlineOffset = 0\n      TagCanvas.depth = 0.97\n      TagCanvas.minBrightness = 0.2\n      TagCanvas.reverse = true\n      TagCanvas.shadowBlur = 2\n      TagCanvas.shadowOffset = [1, 1]\n      TagCanvas.wheelZoom = false\n      TagCanvas.lock = 'xy'\n      TagCanvas.weight = true\n      TagCanvas.weightMode = 'size'\n      TagCanvas.minSpeed = 3\n      TagCanvas.maxSpeed = 5\n      TagCanvas.initial = [0, 0]\n    },\n    resize() {\n      let canvas = $('#' + canvasID)\n      let container = canvas.parent()\n      canvas.attr({\n        width: container.width(),\n        height: container.width()\n      })\n    },\n    restart() {\n      this.status = 0\n      this.buildTags()\n      this.list = luckyDraw.getDrawn().slice()\n      TagCanvas.Start(canvasID, 'tags')\n      tc = TagCanvas.tc[canvasID]\n    },\n    buildTags() {\n      tags.empty()\n      luckyDraw.getRemained().forEach(function(name, i) {\n        $('<a href=\"javascript:\">')\n          .text(name)\n          .css({\n            'font-size': '1em'\n          })\n          .attr('id', 'tag-' + i)\n          .appendTo(tags)\n      })\n      $('<a href=\"javascript:\">')\n        .text(' ')\n        .css({\n          'font-size': '4.5em'\n        })\n        .attr('id', 'tag-placeholder')\n        .appendTo(tags)\n    },\n    processDraw() {\n      if (luckyDraw.getRemained().length == 0) {\n        return\n      }\n      switch (this.status) {\n        case 0:\n          TagCanvas.Update(canvasID)\n          this.status = 1\n          tc.yaw = 2.1913498628418893\n          tc.pitch = 4.494216926075424\n          break\n        case 1:\n          this.status = 2\n          let next = luckyDraw.next()\n          let a = tags.find('a').eq(next.index).css({\n            'font-size': '4.5em',\n            'color': '#ffba00'\n          })\n          this.list.push(next.name)\n          //先停止转动\n          tc.yaw = tc.pitch = 0\n          tc.UpdateTag(tc.taglist[next.index], a.get(0))\n          tc.Weight(tc.taglist)\n          window.setTimeout(() => {\n            TagCanvas.TagToFront(canvasID, {\n              index: next.index,\n              time: 300,\n              callback: () => {\n                a.remove()\n                this.status = 0\n              }\n            })\n          }, 0)\n          break\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container my-0 mx-a\",attrs:{\"id\":\"app\"}},[_c('header',{staticClass:\"position-absolute\"},[_c('img',{attrs:{\"src\":require(\"./images/header-logo.svg\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"float-right settings d-flex justify-content-center align-items-center\"},[_c('button',{on:{\"click\":function($event){_vm.showSettings = !_vm.showSettings}}},[_vm._v(\"Settings\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.reset}},[_vm._v(\"Reset\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.showList = !_vm.showList}}},[_vm._v(\"List\")])])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('button',{staticClass:\"go\",on:{\"click\":_vm.go}},[_vm._v(_vm._s(_vm.goText))]),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"settings\",\"title\":\"Settings\"},model:{value:(_vm.showSettings),callback:function ($$v) {_vm.showSettings=$$v},expression:\"showSettings\"}},[_c('b-form-group',{attrs:{\"label\":\"Enter the max number\",\"label-for\":\"input1\"}},[_c('b-form-input',{attrs:{\"id\":\"input1\",\"type\":\"number\"},model:{value:(_vm.number),callback:function ($$v) {_vm.number=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"number\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('b-btn',{staticClass:\"float-right\",attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":_vm.saveSettings}},[_vm._v(\"\\n         Save\\n       \")])],1)],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"list\",\"title\":\"List\"},model:{value:(_vm.showList),callback:function ($$v) {_vm.showList=$$v},expression:\"showList\"}},[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((_vm.list),function(name){return _c('li',[_vm._v(_vm._s(name))])}))])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas-container\"},[_c('canvas',{attrs:{\"id\":\"canvas\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d56d6268\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d56d6268\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport BootstrapVue from 'bootstrap-vue'\n\nimport App from './App'\nimport jQuery from 'jquery'\nimport 'bootstrap/dist/js/bootstrap.bundle'\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\nimport '@/less/style.less'\n\nimport '@/js/tagcanvas'\n\nVue.use(BootstrapVue)\nVue.config.productionTip = false\n\nconst vm = window.vm = new Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTkiIGhlaWdodD0iNTEiIHZpZXdCb3g9IjAgMCAxNTkgNTEiPgogIDxtZXRhZGF0YT48P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiLz4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+PC9tZXRhZGF0YT4KPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogIzA0OWVlODsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoIGlkPSJMT0dPIiBjbGFzcz0iY2xzLTEiIGQ9Ik0zNjEuMDU5LDQ3OC42MjNhMi45MDcsMi45MDcsMCwwLDAtMS44NjkuNjkxTDM1NCw0NzQuODQ3bDMuOTg3LTEyLjMyN2MwLjA0NCwwLC4wODYuMDE0LDAuMTMyLDAuMDE0YTIuMDM0LDIuMDM0LDAsMCwwLDAtNC4wNjhjLTAuMDQ2LDAtLjA4OC4wMS0wLjEzMywwLjAxM2wtMy40OC0xMC43NjVhMi4wMzIsMi4wMzIsMCwwLDAtMS4wNzYtMy43NTIsMiwyLDAsMCwwLTEuMjkzLjQ4M2wtOS4xNzctNi42NjJhMi4wMjEsMi4wMjEsMCwxLDAtMy44MzMtMS4yNDZIMzI4LjAxNmEyLjAyLDIuMDIsMCwxLDAtMy44MzIsMS4yNDZsLTkuMTc4LDYuNjYyYTIsMiwwLDAsMC0xLjI5NC0uNDgzLDIuMDMyLDIuMDMyLDAsMCwwLTEuMDc0LDMuNzUybC0zLjQ2NCwxMC43MTRjLTAuMDUsMC0uMS0wLjAxNS0wLjE1LTAuMDE1YTIuMDM0LDIuMDM0LDAsMCwwLDAsNC4wNjhjMC4wMzksMCwuMDc3LTAuMDA5LjExNy0wLjAxMmwzLjUsMTAuODE3YTIuMDMyLDIuMDMyLDAsMCwwLDEuMDc0LDMuNzUyLDEuOTksMS45OSwwLDAsMCwxLjI2OS0uNDYybDkuMiw2LjY0NmEyLjAyLDIuMDIsMCwxLDAsMy44MzQsMS4yNDFoMTEuMTEyYTIuMDE5LDIuMDE5LDAsMCwwLDMuOTc5LS41LDIuMDUsMi4wNSwwLDAsMC0uMTQ0LTAuNzQ1bDEwLjQ0LTcuNTg1LDUuMTQzLDQuNDI5QTIuOTI3LDIuOTI3LDAsMSwwLDM2MS4wNTksNDc4LjYyM1ptLTcuMy0zMC4wMSwzLjI4OCwxMC4xNjlhMi4wMjYsMi4wMjYsMCwwLDAtLjg4MiwxLjIyM2gtMS42ODlhMi4wMjQsMi4wMjQsMCwwLDAtMS4zNTEtMS40ODVabS0wLjk0NC0uNjg5TDM1Mi4xNCw0NTguNDVjLTAuMDQ3LjAwOS0uMDk0LDAuMDIyLTAuMTQxLDAuMDM0bC00LjE4Mi03Ljk0M2EyLjAyMSwyLjAyMSwwLDAsMCwuNjctMS41LDIuMDY5LDIuMDY5LDAsMCwwLS4wMzUtMC4zMzdsMC41NDQtLjIzNSwyLjgzOS0xLjIzNkEyLjAxMywyLjAxMywwLDAsMCwzNTIuODE1LDQ0Ny45MjRabS0xMS4zNDQsMTAuNTgyYTEuODY0LDEuODY0LDAsMCwwLS45MzYuMDQ2bC01LjU3Ny05LjcwOWEyLjAzNSwyLjAzNSwwLDAsMCwuNDgxLTAuNjg5bDkuMDI0LDEuMTI1YTIuMDA3LDIuMDA3LDAsMCwwLC43MTcsMS4zMjFabTQuNjA4LTcuNDcxYTIuMTA5LDIuMTA5LDAsMCwwLC4zODQuMDM5LDEuOTgxLDEuOTgxLDAsMCwwLC40ODMtMC4wNjZsNC4xODcsNy45NTFhMi4wMjMsMi4wMjMsMCwwLDAtLjYsMS4wNDZoLTcuNDkyYTIuMDEyLDIuMDEyLDAsMCwwLS42MzItMS4wMzFabS02LjQsOC4wMWEyLjAzLDIuMDMsMCwwLDAtLjU0OC45NkgzMjguMDE1YTIuMDA3LDIuMDA3LDAsMCwwLS41NDgtMC45NjJsNS41ODMtOS43MThhMS44MzQsMS44MzQsMCwwLDAsMS4wNDUsMFptLTEzLjA3LS40OTNhMS45NzEsMS45NzEsMCwwLDAtLjU0NS0wLjA4NSwyLDIsMCwwLDAtLjM5LjAzOWwtMy43MDYtNy45YTIuMDIxLDIuMDIxLDAsMCwwLC43MjEtMS4zMjNsOS4wMDYtMS4xNjlhMi4wNywyLjA3LDAsMCwwLC40NzYuNzE2Wm0tMS44MjQuMzg1YTIuMDE5LDIuMDE5LDAsMCwwLS42NzcsMS4wNjhIMzE2LjY3YTIuMDE5LDIuMDE5LDAsMCwwLS42MTEtMS4wMTRsNC4xNTctNy45NzhhMS45OCwxLjk4LDAsMCwwLC40NzEuMDYxLDIuMSwyLjEsMCwwLDAsLjM5LTAuMDRaTTMxNi42Nyw0NjFIMzI0LjFhMi4wMjIsMi4wMjIsMCwwLDAsLjY3OCwxLjA2OWwtMy43MTEsNy45MTJhMi4wMTYsMi4wMTYsMCwwLDAtLjM4NC0wLjA0LDEuOTkyLDEuOTkyLDAsMCwwLS40NzQuMDYzbC00LjE1Ni03Ljk4OEEyLjAyMSwyLjAyMSwwLDAsMCwzMTYuNjcsNDYxWm05LDEuNWEyLjA4OCwyLjA4OCwwLDAsMCwuMzkuMDM5LDEuOTYzLDEuOTYzLDAsMCwwLC41NDktMC4wODZsNS41NTUsOS42NzFhMi4wMjYsMi4wMjYsMCwwLDAtLjQ3NS43MjVsLTktMS4xMjNhMi4wMTUsMi4wMTUsMCwwLDAtLjcyMy0xLjMxN1ptMS44LS41MzlhMi4wMjksMi4wMjksMCwwLDAsLjU0Ni0wLjk2MWgxMS4xMTFhMi4wMzksMi4wMzksMCwwLDAsLjU0Ny45NjFsLTUuNTUzLDkuNjczYTEuOCwxLjgsMCwwLDAtMS4xLDBabTEzLjA2NSwwLjQ5MmExLjk0LDEuOTQsMCwwLDAsLjU0OS4wODYsMi4wNTgsMi4wNTgsMCwwLDAsLjM4OC0wLjAzOWwzLjcxMiw3LjkxMmEyLjAxLDIuMDEsMCwwLDAtLjcxOSwxLjMxM2wtOS4wMTEsMS4xMjRhMi4wMTMsMi4wMTMsMCwwLDAtLjQ3NS0wLjcyNVptMS44MjgtLjM4NEEyLjAyNiwyLjAyNiwwLDAsMCwzNDMuMDQsNDYxaDcuNTI0YTIuMDIzLDIuMDIzLDAsMCwwLC42MS45NzFMMzQ2Ljk0Miw0NzBhMS45OTEsMS45OTEsMCwwLDAtLjQ3OS0wLjA2NSwyLjAxNiwyLjAxNiwwLDAsMC0uMzkuMDQxWm0wLjAxNC0yMy40ODEsOS4xNzksNi42NjJhMi4wMTQsMi4wMTQsMCwwLDAtLjE0Ny43NTEsMS45MzUsMS45MzUsMCwwLDAsLjAzMy4zMjVsLTMuMzg5LDEuNDc0YTEuOTU5LDEuOTU5LDAsMCwwLTEuOTQxLS43NTVsLTMuNTctNy45NjMtMC4yLS40NTlDMzQyLjM1LDQzOC42MDgsMzQyLjM2NSw0MzguNiwzNDIuMzc3LDQzOC41ODRabS0yLjA0Ni4zMzRhMS45ODYsMS45ODYsMCwwLDAsLjc1My4xNDksMi4wNzQsMi4wNzQsMCwwLDAsLjM1NS0wLjAzNmwwLjU0MiwxLjIwOSwzLjIzMiw3LjIxMWEyLjAyNiwyLjAyNiwwLDAsMC0uNjI2LjgzNGwtOS4wMTYtMS4xNzFhMi4wMjIsMi4wMjIsMCwwLDAtLjQzLTEuMDE3Wm0tMTIuMzE1LTEuMzg5aDExLjExMmEyLjAyNSwyLjAyNSwwLDAsMCwuNC43OWwtNS4yNDYsNy4xNWExLjk2NCwxLjk2NCwwLDAsMC0xLjQ2MS4wMTJsLTUuMjEtNy4xNTZBMi4wMzIsMi4wMzIsMCwwLDAsMzI4LjAxNiw0MzcuNTI5Wm0tMS45NTUsMS41MzhhMS45ODEsMS45ODEsMCwwLDAsLjc1Mi0wLjE0OUwzMzIsNDQ2LjFhMi4wMTYsMi4wMTYsMCwwLDAtLjQyOSwxLjAxM2wtOS4wMSwxLjE4M2EyLjAxMiwyLjAxMiwwLDAsMC0uNjI2LTAuODRsMy43NjgtOC40MjJBMi4wNjIsMi4wNjIsMCwwLDAsMzI2LjA2MSw0MzkuMDY3Wm0tMS4yOTUtLjQ4MywwLjA0MiwwLjAzNi0zLjc2OCw4LjQyMWEyLjA0LDIuMDQsMCwwLDAtLjM1My0wLjAzNSwyLDIsMCwwLDAtMS42LjhsLTMuMzg5LTEuNDc4YTIuMSwyLjEsMCwwLDAsLjAzMi0wLjMyOCwyLjA1MywyLjA1MywwLDAsMC0uMTQ1LTAuNzUxWm0tOS40NTgsOC42NSwzLjM4OCwxLjQ3OGEyLjIsMi4yLDAsMCwwLS4wMzMuMzI4LDIuMDMsMi4wMywwLDAsMCwuNjgsMS41MWwtNC4xNTgsNy45NzhjLTAuMDM4LS4wMDktMC4wNzYtMC4wMTgtMC4xMTQtMC4wMjVMMzE0LjM0LDQ0Ny45MkEyLjAxNCwyLjAxNCwwLDAsMCwzMTUuMzA4LDQ0Ny4yMzRaTTMxMy40LDQ3Mi40MjFsLTMuMzEyLTEwLjI0OWEyLjAzLDIuMDMsMCwwLDAsLjg4LTEuMTc2aDEuNzk1YTIuMDIxLDIuMDIxLDAsMCwwLDEuMzI5LDEuNDI4Wm0tMC42MzctMTIuNDE2SDMxMWEyLjAyNSwyLjAyNSwwLDAsMC0uODgzLTEuMjY4bDMuMjgyLTEwLjE1OCwwLjY5MiwxMEEyLjAyMSwyLjAyMSwwLDAsMCwzMTIuNzU4LDQ2MC4wMDVabTEuNTgyLDEzLjA3NSwwLjczMS0xMC41ODJjMC4wMzgtLjAwNi4wNzUtMC4wMTQsMC4xMTMtMC4wMjNsMy44NzYsNy40NSwwLjI4MSwwLjUzOWEyLjAyNCwyLjAyNCwwLDAsMC0uNjc4LDEuNTA4LDIuMjExLDIuMjExLDAsMCwwLC4wMzIuMzE3bC0zLjQsMS40NjVBMi4wMTMsMi4wMTMsMCwwLDAsMzE0LjM0LDQ3My4wOFptMTAuNDIzLDkuMzM5LTkuMTgzLTYuNjMzYTIuMDI4LDIuMDI4LDAsMCwwLC4xNTUtMC43ODIsMi4xNTYsMi4xNTYsMCwwLDAtLjAzMS0wLjMyNWwzLjM4NC0xLjQ3M2ExLjk1OCwxLjk1OCwwLDAsMCwxLjk0OC43NjVsMy43NzEsOC40MVptMi4wNS0uMzM3YTIsMiwwLDAsMC0uNzUyLTAuMTQ4LDIuMTksMi4xOSwwLDAsMC0uMzU1LjAzNWwtMC44MTItMS44MTEtMi45NTktNi42YTIuMDA1LDIuMDA1LDAsMCwwLC42MzMtMC44NTVsMi4xODQsMC4yNzIsNi44MjMsMC44NWEyLDIsMCwwLDAsLjQ1LDEuMDQ1bC0wLjg4MiwxLjIyWm0xMi4zMTUsMS4zODlIMzI4LjAxNmEyLjAxNywyLjAxNywwLDAsMC0uNDA5LTAuOGw1LjIxMy03LjIwOGExLjk3MiwxLjk3MiwwLDAsMCwxLjUsMGw1LjIxMyw3LjIwOEEyLDIsMCwwLDAsMzM5LjEyOCw0ODMuNDcxWm0yLjMxMS0xLjVhMi4xNzksMi4xNzksMCwwLDAtLjM1NS0wLjAzNSwyLjAwNSwyLjAwNSwwLDAsMC0uNzUzLjE0OGwtMi4xMzUtMi45NTEtMy4wNzctNC4yNTdhMi4wMTUsMi4wMTUsMCwwLDAsLjQ1Mi0xLjA0NWw2LjkyNC0uODY0LDIuMDg1LS4yNTlhMi4wMzgsMi4wMzgsMCwwLDAsLjU5NC44MjJsLTMuNjA4LDguMTU2Wm0wLjk0MiwwLjQ0OS0wLjA0My0uMDM1LDAuMTI3LS4yODksMy42NDMtOC4xMjRhMS45NjksMS45NjksMCwwLDAsLjM1NS4wMzYsMi4wMDksMi4wMDksMCwwLDAsMS41ODUtLjc4NWw0LjM4NiwxLjg5MlptNi4wNzMtMTAuMTIxYTIuMTU2LDIuMTU2LDAsMCwwLC4wMzMtMC4zMjUsMi4wMjYsMi4wMjYsMCwwLDAtLjY3NC0xLjVsMi4zMzctNC40MzcsMS45LTMuNjA2LDAuMDg1LDAuMDE5LDAuNzU1LDExLjc4M1ptNC42NjQtOS45MjFBMi4wMjUsMi4wMjUsMCwwLDAsMzU0LjQ0Myw0NjFoMS43MjJhMi4wMzgsMi4wMzgsMCwwLDAsLjg4MiwxLjIyMmwtMy4yODgsMTAuMTY5Wm00Ni44Niw4LjIwNmgtOS4wMTRhOC4wMzYsOC4wMzYsMCwwLDEtMy4xNzItLjYxOCw3LjU2Miw3LjU2MiwwLDAsMS0yLjUyOC0xLjcyNSw3Ljk1Myw3Ljk1MywwLDAsMS0xLjY2OC0yLjYyOCw5LjUsOS41LDAsMCwxLDAtNi42NSw3Ljk1OSw3Ljk1OSwwLDAsMSwxLjY2OC0yLjYyNyw3LjU2Miw3LjU2MiwwLDAsMSwyLjUyOC0xLjcyNSw4LjQsOC40LDAsMCwxLDYuMzIxLDAsNy41NDUsNy41NDUsMCwwLDEsMi41MjYsMS43MjIsNy45MzEsNy45MzEsMCwwLDEsMS42NzEsMi42MjUsOC45NDIsOC45NDIsMCwwLDEsLjYsMy4zMTksOC4zMzgsOC4zMzgsMCwwLDEtLjkyNCwzLjkxNCw3LjEzNyw3LjEzNywwLDAsMS0yLjc3LDIuODYyVjQ2OS4xaDQuNzYydjEuNDg1Wm0tMTUuMjkxLTguM2E3Ljc1Miw3Ljc1MiwwLDAsMCwuNDMzLDIuNiw2Ljg5LDYuODksMCwwLDAsMS4yMzUsMi4xNzUsNS44NjgsNS44NjgsMCwwLDAsMS45NzEsMS41LDYuNDYsNi40NiwwLDAsMCw1LjI1MywwLDUuOTc3LDUuOTc3LDAsMCwwLDEuOTgxLTEuNSw2LjksNi45LDAsMCwwLDEuMjU3LTIuMTc1LDcuNzc4LDcuNzc4LDAsMCwwLDAtNS4xOTIsNi45MDksNi45MDksMCwwLDAtMS4yNTctMi4xNzYsNS45MjMsNS45MjMsMCwwLDAtNC42LTIuMDYsNi4wNTYsNi4wNTYsMCwwLDAtMi42MzguNTU3LDUuODU1LDUuODU1LDAsMCwwLTEuOTcxLDEuNSw2LjksNi45LDAsMCwwLTEuMjM1LDIuMTc2QTcuNzQ5LDcuNzQ5LDAsMCwwLDM4NC42ODcsNDYyLjI4NlptMjkuNzk0LDguM2gtMS42VjQ1NS44NjVINDA3LjZWNDU0LjRoMTIuMTUzdjEuNDYyaC01LjI3NXYxNC43MTdabTIwLjk0MSwwLjQxYTYsNiwwLDAsMS0yLjkxNi0uNjI3LDUuMjUxLDUuMjUxLDAsMCwxLTEuOC0xLjU4OCw1Ljk1OCw1Ljk1OCwwLDAsMS0uOTI0LTIuMDkyLDkuNzIzLDkuNzIzLDAsMCwxLS4yNTUtMi4xMzdWNDU0LjRoMS42djkuOTYzYTguMSw4LjEsMCwwLDAsLjIyMiwxLjkwOCw0LjgyOSw0LjgyOSwwLDAsMCwuNzIzLDEuNjQ2LDMuNzY2LDMuNzY2LDAsMCwwLDEuMzI1LDEuMTY1LDQuODIyLDQuODIyLDAsMCwwLDQuMDUxLDAsMy43NzIsMy43NzIsMCwwLDAsMS4zMjQtMS4xNjUsNC44NzEsNC44NzEsMCwwLDAsLjcyNS0xLjY0Niw4LjE1MSw4LjE1MSwwLDAsMCwuMjIyLTEuOTA4VjQ1NC40aDEuNnYxMC4xNDVhOS43MzEsOS43MzEsMCwwLDEtLjI1NywyLjEzNyw1LjkwNiw1LjkwNiwwLDAsMS0uOTI1LDIuMDkyLDUuMiw1LjIsMCwwLDEtMS44MTMsMS41ODhBNi4wMDcsNi4wMDcsMCwwLDEsNDM1LjQyMiw0NzAuOTkyWm0yOS43MzktMTYuNi02LjkzNSwzLjcxMy02LjUtMy43MTMtMS4yNzIuODIzdjE1LjM2OGgxLjZWNDU2LjUyOGgwLjA0NmwxMi4yODYsNy41MTF2Ni41NDNINDY2VjQ1NS41NDhabS01LjEyLDQuOTkxLDQuMzYyLTIuNC0wLjAxLDUuMDUzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwNyAtNDM1KSIvPgo8L3N2Zz4K\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/header-logo.svg\n// module id = tm3u\n// module chunks = 1"],"sourceRoot":""}